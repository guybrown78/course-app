{"version":3,"sources":["js/data/requestFactory.js","js/data/models/BaseModel.js","js/data/collections/BaseCollection.js","js/data/models/errors/InvalidPropertyModel.js","js/data/collections/errors/InvalidPropertyCollection.js","js/data/models/ErrorModel.js","js/data/models/helpers/DeviceDetection.js","js/data/models/helpers/ScreenSizeDetection.js","js/data/dataStore.js","js/data/models/tree/BaseTreeModel.js","example/js/data/ExampleDataStore.js","js/router.js","js/views/BaseView.js","js/views/BaseLoadingView.js","js/views/PageView.js","js/views/sectionsStack/SectionsStackLayout.html!text","js/views/sectionsStack/section/BaseSection.html!text","js/views/sectionsStack/section/BaseSectionHeader.html!text","js/views/sectionsStack/section/BaseSectionView.js","js/views/sectionsStack/BaseSectionsStackPageView.js","js/views/tree/TreeView.html!text","js/views/tree/TreeNodeItem.html!text","js/views/tree/TreeView.js","js/views/sectionsStack/examples/sections/PrimarySection.html!text","js/views/sectionsStack/examples/sections/PrimarySectionView.js","js/views/sectionsStack/examples/sections/SecondarySection.html!text","js/views/sectionsStack/examples/sections/SecondarySectionView.js","js/views/sectionsStack/examples/DualFocusStackPageView.js","js/views/sectionsStack/examples/SliderStackPageView.js","js/views/courses/Courses.html!text","js/views/courses/CoursesPageView.js","example/exampleRouter.js","example/exampleApp.js","example/exampleMain.js"],"names":["define","$","Backbone","requestFactory","this","isLocal","apiVersion","token","centreId","developmentServicePrefix","servicePrefix","loginPrefix","validationRules","localServicePrefix","getHeaders","isNotAuth","Authorization","window","sessionStorage","getItem","Content-Type","getLoginHeaders","btoa","Accept","getServicePrefix","languageSpecific","getSerializedParams","requestParams","isLocalOverride","buildLocalFileRequestString","buildQueryString","requestParams_str","key","substring","length","abreviatedName","createLocalParamName","getPreventCacheString","dateUnique","today","Date","dStr","getTime","getFullYear","getMonth","getDay","getPreventCacheQueryString","setToken","updateToken","setCurrentCentre","cId","getCurrentCentre","getCentreQueryParam","roleId","param","l","setUpCORS","support","cors","proxiedSync","sync","method","model","options","crossDomain","BaseModel","Model","extend","loadParams","isGlobal","isLoading","validation","initialize","on","onLoadSuccess","onSaveSuccess","id","get","load","loadOptions","data","fetch","update","success","resp","status","xhr","trigger","type","JSON","stringify","dataType","jsonp","global","prototype","save","call","destroy","console","log","searchChildren","arr","child","property","attr","criteria","that","match","_","filter","models","item","push","getChildMatch","collection","newModels","getIsAlreadyLoaded","parse","response","nestedModels","nestedClass","nestedData","toJSON","includeNestedModels","json","clone","attributes","undefined","isFunction","getLoadOffset","limit","lastPos","Math","ceil","resetDefaults","set","defaults","nullify","reset","clear","off","setValidationRules","BaseCollection","Collection","callModelInitialisers","args","each","init","InvalidPropertyModel","domain","displayTitle","reason","InvalidPropertyCollection","ErrorModel","code","displayMessage","statusText","serviceId","errorAction","errors","DeviceDetectionModel","screenSize","screenSmall","screenSmallLowestThreshold","screenSmallHighestThreshold","screenMedium","screenMediumLowestThreshold","screenMediumHighestThreshold","screenLarge","screenLargeLowestThreshold","screenLargeHighestThreshold","Infinity","apply","setScreenSize","screenSizeDetectionModel","stageWidth","width","getScreenSize","isScreenSizeSmall","isScreenSizeMedium","isScreenSizeLarge","ScreenSizeDetectionModel","stageHeight","bind","onScreenResize","Number","height","DeviceDetection","ScreenSizeDetection","dataStoreModel","hasCheckedLocalStorage","login","dataError","deviceDetection","screenSizeDetection","parentRoute","isLoginPage","filestoreViewPreference","initialSetUpLoadComplete","listenTo","onStorageChange","localStorage","setItem","now","removeItem","setTimeout","onStorageInitialisedTimeout","initAjaxErrorHandler","event","originalEvent","newValue","sessionValues","getSavedTokenValues","revokeAuthorization","initiateLogout","revokeUser","initialiseCredentials","loadInSequence","queue","shift","Error","loadSuccess","getBasicLoadOptions","loadStart","loadSequenceComplete","headers","timeout","loadData","loadEvent","checkUserLoad","loadError","error","onCentreChange","document","ajaxError","jqXHR","settings","exception","getStatusError","statusError","responseJSON","isServerResponse","error_description","populateServerErrorMessage","populateLocalErrorMessage","getNonHTTPStatusError","serverError","errorObject","localError","getCustomDataError","location","dataLogout","clearUser","isLogout","UserSessionModel","returnToDefaultPage","handleErrorAction","BaseTreeModel","childrenLoaded","parentModel","rootModel","additionalIds","idAttribute","requiresReload","itemId","displayName","genericCount","parentId","depth","childrenCount","canEdit","isOpen","isSelected","children","onItemSelected","url","jsonURL","loadType","parseChildren","pluck","add","omit","constructor","resetChildren","setParentModels","mod","toggleOpenItemChildren","open","toggleOpenNestedChildren","getTreeItem","dataStore","treeModel","ExampleDataStore","tree","BaseRouter","Router","currentView","execute","callback","name","executeArgument","onDataStoreInitialised","stopListening","showApplicationSetup","ApplicationSetUpPageView","onInitialSetUpComplete","render","hash","nextLocation","switchView","view","viewType","viewModel","ignoreUserSessionLoad","View","referenceView","viewInitObject","body","scrollTop","documentElement","viewExists","switchableViews","indexOf","unescape","parseQueryString","queryString","params","map","decodeURI","split","el","i","aux","o","val","eval","BaseView","baseItemClickDebounceTimeout","baseItemClickDebounceTime","defer","postRender","baseOnItemClickedHandler","baseClearItemClickedDefer","onItemDoubleClickedHandler","baseItemClickedDefer","clearTimeout","proxiedEvent","onItemSingleClickedHandler","appendSubViewsToElement","SubView","events","subViewOptions","subViews","subView","append","destroyAppendedViews","stripDataIdFromElementId","element","delimiter","idStrings","getNoDataMessageHTML","msg","html","getDataErrorMessageHTML","title","setContentsHeightFromParentOffset","parentJqueryEL","contentJqueryEL","cssSelector","includeBottomPadding","availableContentHeight","floor","outerHeight","getContentsOffsetFromParentOffset","css","replace","offset","top","onUndevelopedMessageAlert","onAlert","enableActionButton","buttonEl","removeClass","removeProp","disableActionButton","addClass","prop","destroyModel","destroyView","remove","unbind","destroyEl","$el","empty","onDestroy","Spinner","BaseLoadingView","dataRequested","initialLoadRenderRenderComplete","showSpinner","spinnerCurrentlyVisable","loaderOptions","lines","radius","corners","rotate","color","speed","trail","shadow","hwaccel","className","zIndex","viewNumber","random","loaderElId","jqueryEL","initialLoadRender","removeSpinner","renderViewContent","initialiseLoaderElIdReference","showLoader","requestData","spinner","spin","spinnerEL","find","String","positionSpinner","detach","x","outerWidth","left","y","getScrollTop","pageYOffset","B","D","onDataLoadError","errorModel","showLoadErrorMessage","PageView","contentPadding","footerHeight","onDataLoad","onResize","destroyDataStoreListeners","undelegateEvents","onDataUpdate","renderPageContent","setPageContentHeight","getFooterHeight","onHeaderUpdate","availablePageHeight","setAdditionalPageItemsHeight","footers","getElementsByTagName","offsetHeight","BaseSectionTemplate","BaseSectionHeaderTemplate","BaseSectionView","template","headerTemplate","showHeader","index","restrictHeightToScreen","topOffset","contentOffset","verticalPadding","sectionBottomPadding","sectionEL","contentEL","openCloseButtonEL","openCloseButtonWidth","rendered","nullModelMessage","initialiseViewParametersFromOptions","initialiseLayoutTemplate","initialiseHeaderTemplate","initialiseModelListeners","click .toggle-open-close","getTemplateData","first","initialiseViewCalculations","renderSection","close","setHeight","columnEL","getElementsByClassName","prefixedEventListener","e","onTransistionComplete","pfx","p","toLowerCase","addEventListener","stopPropagation","onOpenCloseToggle","getHeaderTemplateData","renderSectionsContent","updateModel","currentSelectedModel","show","setTopOffset","h","contentHeight","setAdditionalViewItemHeights","removeModelListeners","LayoutTemplate","BasePageSectionsStackView","articleId","gridClass","gridType","currentDefaultFocusedIndex","currentFocusedIndex","sectionsStack","enableSliding","gridEL","elementsOffsetY","renderedPageContent","initialiseModel","initialiseSectionsStack","onDeviceDetectionChange","onStageWidthResize","getEnableSliding","onScroll","class","ordinal","setEnableSliding","flag","hasEnableSlidingChanged","slideToSection","initialiseSectionsStackViews","delegateEvents","pageTitle","section","addSectionsStackViewsListeners","setElement","sectionView","onSectionItemSelected","onSectionViewOpenClose","removeSectionsStackViewsListeners","updateNodeDetailsView","setSectionsStackViewHeights","direction","removeData","sectionIndex","animate","gridWidth","innerWidth","scrollPos","scrollLeft","destroySectionsStackViews","destroySectionsStack","sectionStackItem","TreeTemplate","TreeNodeItem","treeView","tagName","collapseSpeed","depthIndent","childTreeViews","nodeItemTemplate","nodeItemHeight","nodeItemEL","nodeChildrenEL","openCloseNodeItem","openCloseArrowOnly","arrowEL","showArrowEL","loadChildrenInternally","isModelLoading","additionalNodeStateParams","additionalNodeStateValue","additionalNodeStateSelector","additionalModelListenersHandlers","additionalRenderFunction","specifyDepth","setOptionParams","onChildrenLoaded","onSelectedStateChange","onItemDelete","onAdditionalNodeStateParamsChange","obj","listener","handler","parseInt","getChildrenLoadParams","initialiseEvents","click","onNodeItemSelected","toggleOpenState","setLoadingState","loadChildren","childrenEL","loader","closeNode","openNode","arrow","slideUp","promise","always","onSlideAnimationPromise","slideDown","addChildrenInstances","openNodePostRender","loadingEL","childViewOptions","childModel","childView","treeData","getNodeItemTemplate","childTreeView","pop","TreeView","PrimarySectionTemplate","PrimarySectionView","click .tree-node-item .active-select-area","contentTemplate","initialiseTreeView","onTreeViewGenericCountChange","currentTarget","closest","value","selectorQuery","SecondarySectionTemplate","SecondarySectionView","change form","onFormChange","BaseSectionsStackPageView","DualFocusSectionsStackView","itemModel","SliderSectionsStackView","temporaryModel","CoursesTemplate","CoursesView","DualFocusStackPageView","SliderStackPageView","CoursesPageView","exampleRouter","routes","myCourses","courses","dualFocusStack","sliderStack","*actions","showPage","path","href","selectedPageIdentifier","substr","lastIndexOf","newView","showSectionsStackPage","showError","defaultView","history","start","require","config","baseUrl","paths","jquery","underscore","backbone","text","App"],"mappings":"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CA9nB,OAAAyO,SAAAyD,KAAA,aAKA3O,EAAA,WACA,GAAAujB,EACA7nB,UAAA8oB,QAAAC,QAGA,QACAzkB,WAAAA,KAIAxE,OAAA,sBC9FA,SACA,aACA,WACA,yBAEA,SAAAC,EAAA2G,EAAA1G,EAAAqS,GAEA,GAAA/N,GAAA,WAEA+N,EAAA/N,aAGA,QACAA,WAAAA,KCRA0kB,QAAAC,QACAC,QAAA,MAEAC,OACAnX,UAAA,mCACAoX,OAAA,6CACAC,WAAA,8CACAC,SAAA,0CACAC,KAAA,iCACAlP,QAAA,qCAIA2O,SAEA,sBAIA,SAAAQ,GAGAA,EAAAllB,eAGAxE,OAAA,sBAAA;AjC7BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7OA,AD8OA;AC7OA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnSA,ADoSA;ACnSA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,ACjFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrBA,ADsBA;ACrBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,ACrCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,AC9DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3BA,AD4BA;AC3BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,ACveA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7KA,AD8KA;AC7KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,ACpBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,ACpKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC1KA,AD2KA;AC1KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,AC5LA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,AC7HA;AACA;AACA;AACA,ACHA;AACA;AACA;AACA,ACHA;AACA;AACA;AACA,ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClQA,ADmQA;AClQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,ACnSA;AACA;AACA;ACFA,ADGA;ACFA;AACA;AACA,ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnYA,ADoYA;ACnYA;AACA;AACA,ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,ACxEA;AACA;AACA;AACA,ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrCA,ADsCA;ACrCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,ACxFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9EA,AD+EA;AC9EA;AACA;AACA,ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9BA,AD+BA;AC9BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9FA,AD+FA;AC9FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,AClBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"exampleMain.js","sourcesContent":["define('js/data/requestFactory',[\n    'jquery',\n    'backbone'\n\n], function($, Backbone) {\n\n    function requestFactory()\n    {\n        /**\n         * @class RequestFactory staic class containing helper funcs for models / collections\n         */\n        this.isLocal = false;\n        this.apiVersion = \"1\";\n        this.token = null;\n        this.centreId = null;\n        this.developmentServicePrefix = \".../api/\";\n        this.servicePrefix = \"...\";\n        this.loginPrefix = \".../connect/\";\n        this.validationRules = null;\n\n        // UAT Environment settings for local hosting of web services\n        // this.developmentServicePrefix = \".../api/\";\n        // this.servicePrefix = \".../api/\";\n        // this.loginPrefix = \".../api/connect/\";\n\n        // Environment settings for local hosting of web services\n        // this.developmentServicePrefix = \"https://localhost:44394/api/\";\n        // this.servicePrefix = \"https://localhost:44394/api/\";\n        // this.loginPrefix = \"https://localhost:44394/connect/\";\n\n        this.localServicePrefix = \"../testjson/\";\n\n        /**\n         * Returns request headers\n         *\n         * @returns {Object} request headers\n         */\n        this.getHeaders = function()\n        {\n            if (this.isLocal || this.isNotAuth)\n                return {}\n            return {\n                'Authorization':window.sessionStorage.getItem('token_type')+' '+window.sessionStorage.getItem('access_token'),\n                'Content-Type':'application/json'/*,\n                'Accept':'application/json'*/\n                //'Access-Control-Allow-Origin': '...',\n                //'contentType': 'application/json; charset=UTF-8',\n                //contentType: \"application/x-www-form-urlencoded; charset=UTF-8\"\n                //'dataType': 'json'};\n                //'X-Api-Version': this.apiVersion\n                //'dataType': \"json\"\n                //processData: false\n            }\n        };\n\n        this.getLoginHeaders = function()\n        {\n            return {\n                // Authorization Should be APP if using an actual access token,\n                // or APPWeb if using a GUID to the access token in the db\n                //'Authorization': \"Basic \" + btoa(\"APP\"+ \":\" + \"0C3404DC-C574-46C4-82DF-2B2A8922548E\"),\n                'Authorization': \"Basic \" + btoa(\"APPWeb\"+ \":\" + \"0C3404DC-C574-46C4-82DF-2B2A8922548E\"),\n                'Accept':'application/json',\n                'Content-Type': 'application/x-www-form-urlencoded'\n                //'Access-Control-Allow-Origin': 'http://...',\n                //'contentType': 'application/json; charset=UTF-8',\n                //contentType: \"application/x-www-form-urlencoded; charset=UTF-8\"\n                //'dataType': 'json'};\n                //'X-Api-Version': this.apiVersion\n                //'dataType': \"json\"\n                //processData: false\n            }\n        };\n        /**\n         * Returns correct service prefix\n         *\n         * @param {String} isLocalOverride allows individual service to be loaded locally\n         * @returns {String} service prefix\n         */\n        this.getServicePrefix = function(languageSpecific)\n        {\n            languageSpecific = (typeof languageSpecific !== 'undefined') ? languageSpecific : true;\n            if (this.isLocal)\n            {\n                return this.localServicePrefix;\n            }\n            if(!languageSpecific)\n            {\n                return this.developmentServicePrefix;\n            }\n            return this.developmentServicePrefix+\"en-GB/\";\n        };\n\n        /**\n         * Serializes object containing request params into string\n         *\n         * @param {Object} requestParams object describing request parameters\n         * @returns {String} string of serialized params\n         */\n        this.getSerializedParams = function(requestParams, isLocalOverride)\n        {\n            if (this.isLocal || isLocalOverride)\n                return this.buildLocalFileRequestString(requestParams) + \".json\";\n            return this.buildQueryString(requestParams);\n        };\n\n        /**\n         * Serializes object containing request params into query string\n         *\n         * @param {Object} requestParams object describing request parameters\n         * @returns {String} string of serialized params\n         */\n        this.buildQueryString = function(requestParams)\n        {\n            var requestParams_str = \"?\";\n            for (var key in requestParams)\n            {\n                requestParams_str += key + \"=\" + requestParams[key];\n                requestParams_str += \"&\";\n            }\n            if (this.token != null)\n            {\n                requestParams_str += \"token=\" + this.token;\n            }\n            else\n            {\n                // remove trailing '&'\n                requestParams_str = requestParams_str.substring(0, requestParams_str.length - 1);\n            }\n            //requestParams_str += \"&r=\" + new Date().getTime();\n            return requestParams_str;\n        };\n\n        /**\n         * Serializes object containing request params into local file reference string\n         *\n         * @param {Object} requestParams object describing request parameters\n         * @returns {String} string of serialized params\n         */\n        this.buildLocalFileRequestString = function(requestParams)\n        {\n            var requestParams_str = \"/&\";\n            for (var key in requestParams)\n            {\n                var abreviatedName = this.createLocalParamName(key);\n                requestParams_str += abreviatedName + \"=\" + requestParams[key];\n                requestParams_str += \"&\";\n            }\n            requestParams_str = requestParams_str.substring(0, requestParams_str.length - 1);\n            if (this.token != null)\n            {\n                requestParams_str += \"&to=\" + this.token;\n            }\n            return requestParams_str;\n        };\n\n        this.getPreventCacheString = function(dateUnique)\n        {\n            if (this.isLocal)\n                return \"\";\n            var today = new Date(),\n                dStr = today.getTime();\n            if (dateUnique)\n                // return same number for every request made per day\n                dStr = new Date(today.getFullYear(), today.getMonth(), today.getDay()).getTime();\n            return dStr;\n        };\n\n        this.getPreventCacheQueryString = function(dateUnique)\n        {\n            return \"&pc=\" + this.getPreventCacheString(dateUnique);\n        };\n\n        this.setToken = function(updateToken)\n        {\n            this.token = updateToken;\n            //window.localStorage.setItem(\"persistLogon\", this.token);\n        };\n\n        this.setCurrentCentre = function(cId)\n        {\n            this.centreId = cId\n        };\n\n        this.getCurrentCentre = function()\n        {\n            return this.centreId;\n        };\n        this.getCentreQueryParam = function(roleId)\n        {\n            switch (roleId){\n                case 10:\n                    return this.getCurrentCentre();\n                    break;\n            }\n            return null;\n        };\n        this.createLocalParamName = function(param)\n        {\n            var l = param.length;\n            if(l < 8)\n                return param;\n            return param.substring(0, 8);\n        };\n\n        /*\n         * Override Backbone.sync to enable Cross Origin Requests\n         */\n        this.setUpCORS = function() {\n            // only set up cors if connecting to remote data source\n            if (this.isLocal === false)\n            {\n                $.support.cors = true;\n                var proxiedSync = Backbone.sync;\n                Backbone.sync = function(method, model, options) {\n                    options || (options = {\n                    });\n                    if (model.isLocal !== true)\n                    {\n                        if (!options.crossDomain)\n                        {\n                            options.crossDomain = true;\n                        }\n                        /*if (!options.xhrFields)\n                        {\n                            options.xhrFields = {\n                                withCredentials: true\n                            };\n                        }*/\n                    }\n                    return proxiedSync(method, model, options);\n                };\n            }\n        };\n    }\n    return new requestFactory;\n});\n\n","define('js/data/models/BaseModel',[\n    'backbone'\n\n], function(Backbone) {\n\n    /**\n     * @class BaseResultModel data model defining methods common to all models\n     */\n    var BaseModel = Backbone.Model.extend({\n        loadParams: null,\n        isGlobal:true,\n        isLoading:false,\n\n        validation:{},\n        validationRules:[],\n        /**\n         * Set up listeners\n         *\n         */\n        initialize: function()\n        {\n            this.on('success', this.onLoadSuccess);\n            this.on('saveSuccess', this.onSaveSuccess);\n           // this.setValidationRules();\n            // set backbone id\n            this.id = this.get('id');\n        },\n\n        /**\n         * This is set to be overridden by any models that need to use another method than fetch\n         */\n        load:function(loadOptions, data)\n        {\n            if(data)\n            {\n                this.loadParams = data;\n            }\n            this.fetch(loadOptions);\n        },\n\n        update:function(loadOptions, data)\n        {\n            loadOptions || (loadOptions = {});\n            var success = loadOptions.success;\n            var model = this;\n            // success doesn't have an event so always trigger\n            loadOptions.success = function(resp, status, xhr) {\n                model.trigger('saveSuccess', model, resp, xhr);\n                if (success) {\n                    success(model, resp, xhr);\n                }\n            };\n            if(model.type === 'login')\n            {\n                loadOptions.data = $.param(data);\n            }\n            else\n            {\n                loadOptions.data = JSON.stringify(data);\n                loadOptions.dataType = \"json\";\n                // The jsonp setting prevents issues with sending ? as text.\n                // In addition contentType = \"application/json; charset=UTF-8\" could also be set in replace.\n                // Please see https://github.com/jquery/jquery/issues/1799 OR\n                //            https://github.com/jquery/api.jquery.com/issues/878\n                loadOptions.jsonp = false;\n            }\n            loadOptions.global = this.isGlobal;\n            Backbone.Model.prototype.save.call(this, data, loadOptions);\n        },\n\n        /**\n         * Overides Backbone method to add 'success' event\n         *\n         * @param {Object } options\n         */\n        fetch: function(loadOptions, data) {\n            loadOptions || (loadOptions = {\n            });\n            var success = loadOptions.success;\n            var model = this;\n        //    loadOptions.headers.dataType = \"json\";\n            // success doesn't have an event so always trigger\n            loadOptions.success = function(resp, status, xhr) {\n                model.trigger('success', model, resp, xhr);\n                if (success) {\n                    success(model, resp, xhr);\n                }\n            };\n            loadOptions.data = data;\n            loadOptions.global = this.isGlobal;\n            Backbone.Model.prototype.fetch.call(this, loadOptions);\n        },\n\n        /**\n         * Overides Backbone method to add 'success' event\n         *\n         * @param {Object } options\n         */\n        destroy: function(loadOptions) {\n            console.log(\"BASE MODEL\");\n            loadOptions || (loadOptions = {\n            });\n            var success = loadOptions.success;\n            var model = this;\n            // trigger specific destroy success event so views can listen to success\n            loadOptions.success = function(resp, status, xhr) {\n                model.trigger('deleteSuccess', model, resp, xhr);\n                if (success) {\n                    success(model, resp, xhr);\n                }\n            };\n            loadOptions.global = this.isGlobal;\n            Backbone.Model.prototype.destroy.call(this, loadOptions);\n        },\n\n        searchChildren:function(arr, child, property, attr, criteria)\n        {\n            var that = this;\n            var match = null;\n            match = _.filter(child.models, function(item)\n            {\n                if(item.get(attr) === criteria)\n                {\n                    arr.push(item);\n                }\n                if(item.get(property) && item.get(property).length > 0)\n                {\n                    that.searchChildren(arr, item.get(property), property, attr, criteria);\n                }\n            });\n        },\n\n        getChildMatch:function(collection, property, attr, criteria)\n        {\n            var newModels = [];\n            this.searchChildren(newModels, collection, property, attr, criteria);\n            if(newModels.length > 0)\n            {\n                return newModels[0];\n            }\n            return null;\n        },\n\n        /**\n         * To be overridden if model has actions to perform on successful load\n         *\n         */\n        onLoadSuccess: function() {\n            //to be overridden\n        },\n\n        /**\n         * To be overridden if model has actions to perform on successful save\n         *\n         */\n        onSaveSuccess:function()\n        {\n            //to be overridden\n        },\n\n        /**\n         * Set to be overridden by any models that may not need loaded (i.e. userModel, clientConfig)\n         *\n         */\n        getIsAlreadyLoaded: function()\n        {\n            return false;\n        },\n\n        /**\n         * Overrides Backbone method to enable parsing of complex nested data structures and allowing definition of Model / Collection types to be assigned to each\n         * Requires 'models' property to be defined as object containing one or many 'key:Class' property (e.g. models: {Roles:RoleCollection})\n         *\n         * 'key' = data attribute name in json / model e.g. Status\n         * 'class' = data model / collection classname e.g. StatusModel\n         *\n         * NOTE: Models MUST be created in 'defaults' declaration otherwise will not work when model is parsed as part of a collection e.g.\n         *  defaults: {\n                Status: new StatusModel\n            }\n         *\n         * @param {response} JSON data\n         * @returns {Object} object reflecting nested data structure\n         */\n        parse: function(response) {\n            for (var key in this.nestedModels)\n            {\n                var nestedClass = this.nestedModels[key];\n                var nestedData = response[key];\n                //{parse:true} attr needed to ensure parse method is called on nested models that are not part of collections\n                    response[key] = new nestedClass(nestedData, {\n                        parse: true\n                    });\n                }\n            return response;\n        },\n\n        /**\n         * Overrides Backbone method to enable serialisation of complex nested data structures and allowing definition of Model / Collection types to be assigned to each\n         * Requires 'models' property to be defined as object containing one or many 'key:Class' property (e.g. models: {Roles:RoleCollection})\n\n         * 'key' = data attribute name in json / model e.g. Status\n         * 'class' = data model / collection classname e.g. StatusModel\n         *\n         * NOTE: Models MUST be created in 'defaults' declaration otherwise will not work when model is parsed as part of a collection e.g.\n         *  defaults: {\n                Status: new StatusModel\n            }\n         *\n         *\n         * @returns {JSON} json objet reflecting nested data structure\n         */\n        toJSON: function(includeNestedModels) {\n            // default backbone implementation\n            var json = _.clone(this.attributes);\n            if (json !== null) {\n                // loop through defined keys and call toJSON on each\n                if (includeNestedModels === undefined || includeNestedModels === true)\n                {\n                    for (var key in this.nestedModels)\n                    {\n                        // confirm object has toJSON() method\n                        if (json[key] && json[key] !== null && _(json[key].toJSON).isFunction())\n                        {\n                            // call toJSON() on object\n                            json[key] = json[key].toJSON();\n                        }\n                    }\n                }\n            }\n            return json;\n        },\n\n        getLoadOffset:function(collection, limit)\n        {\n            if(collection !== null)\n            {\n                var lastPos = collection.length;\n                return Math.ceil(lastPos/limit) + 1;\n            }\n            return 1;\n        },\n\n        resetDefaults:function()\n        {\n            this.set(this.defaults);\n        },\n\n        nullify:function()\n        {\n            for (var key in this.nestedModels)\n            {\n                if (this.get(key) && _.isFunction(this.get(key).reset))\n                {\n                    this.get(key).reset();\n                }\n            }\n            this.clear();\n            this.off();\n        },\n        \n        setValidationRules:function()\n        {\n            /*this.validation = {};\n            var that = this;\n            _.each(this.validationRules, function(rule){\n                that.validation[rule.attribute] = that.setRuleInValidationFormat(rule);\n                that.listenTo(that, 'change:'+rule.attribute, that.checkAttributeIsValid);\n            });*/\n        }//,\n        \n        /*checkAttributeIsValid:function(model)\n        {\n            var that = this;\n            _.each(model.changed, function(value, key){\n\n                var error = that.checkValidationErrors(key);\n                var attrValid = true;\n                if(error && error.length > 0)\n                {\n                    attrValid = false;\n                }\n                that.trigger('attribute:checkValid', key, attrValid, error);\n            });\n        }*/\n        \n        \n       \n    });\n    return BaseModel;\n});\n\n","define('js/data/collections/BaseCollection',[\n    'underscore',\n    'backbone',\n], function(_, Backbone) {\n    var BaseCollection = Backbone.Collection.extend({\n        \n        isGlobal:true,\n        loadParams:null,\n        \n        initialize: function() {\n            this.on('reset', this.callModelInitialisers)\n            this.on('add', this.callModelInitialisers)\n        },\n        \n        callModelInitialisers: function(args) {\n            _.each(this.models, function(model) {\n                if (model.init) {\n                    model.init(args)\n                }\n            })\n        },\n        \n        /**\n         * This is set to be overridden by any collections that need to use another method than fetch\n         */\n        load:function(loadOptions, data)\n        {\n            loadOptions.reset = true;\n            if(data)\n            {\n                this.loadParams = data;\n            }\n            this.fetch(loadOptions)\n        },\n        \n        /**\n         * Overides Backbone method to add 'success' event\n         *\n         * @param {Object } options\n         */\n        fetch: function(loadOptions) {\n            loadOptions || (loadOptions = {\n            });\n            var success = loadOptions.success;\n            var collection = this;\n        //    loadOptions.headers.dataType = \"json\";\n            // success doesn't have an event so always trigger\n            loadOptions.success = function(resp, status, xhr) {\n                collection.trigger('success', collection, resp, xhr);\n                if (success) {\n                    success(collection, resp, xhr);\n                }\n            };\n            loadOptions.global = this.isGlobal;\n            Backbone.Collection.prototype.fetch.call(this, loadOptions);\n        },\n        \n        update:function(loadOptions, data)\n        {\n            loadOptions || (loadOptions = {});\n            var success = loadOptions.success;\n            var collection = this;\n            // success doesn't have an event so always trigger\n            loadOptions.success = function(resp, status, xhr) {\n                collection.trigger('saveSuccess', collection, resp, xhr);\n                if (success) {\n                    success(collection, resp, xhr);\n                }\n            };\n            loadOptions.data = JSON.stringify(data);\n            Backbone.sync(\"update\", this, loadOptions)\n        },\n                \n        getIsAlreadyLoaded:function()\n        {\n            return false;\n        }\n    });\n    return BaseCollection;\n});\n\n","define('js/data/models/errors/InvalidPropertyModel',[\n    'js/data/models/BaseModel'\n    \n], function(BaseModel) {\n\n    /**\n     * @class InvalidPropertyModel contains attributes for multiple errors returned from a call\n     */\n    var InvalidPropertyModel = BaseModel.extend({\n        type:\"InvalidProperty\",\n        defaults:{\n            domain:\"\",\n            displayTitle:\"\",// ? not really sure why we need this\n            reason:\"\",\n            type:\"\"\n        }\n\n    });\n    return InvalidPropertyModel;\n});\n\n\n","define('js/data/collections/errors/InvalidPropertyCollection',[\n    'js/data/collections/BaseCollection',\n    'js/data/models/errors/InvalidPropertyModel'\n], function(BaseCollection, InvalidPropertyModel) {\n    var InvalidPropertyCollection = BaseCollection.extend({\n        type:'InvalidProperty',\n        model: InvalidPropertyModel\n    });\n    return InvalidPropertyCollection;\n});\n\n","define('js/data/models/ErrorModel',[\n    'js/data/models/BaseModel',\n    'js/data/collections/errors/InvalidPropertyCollection'\n\n], function(BaseModel, InvalidPropertyCollection) {\n\n    var ErrorModel = BaseModel.extend({\n        type:\"Error\",\n        defaults: {\n            /*errorId:0,\n            errorType: \"ajaxError\",\n            displayTitle:\"An unknown error has occured\", \n            displayMessage: \"A data loading error has occurred please try again.\",\n            status: 0,\n            statusText:\"\",\n            //code:\"\",\n            serviceId:\"\",\n            errorAction:\"generalError\",\n            errors:new InvalidPropertyCollection*/\n            code:0,\n            displayTitle:\"An unknown error has occured\", \n            displayMessage: \"A data loading error has occurred please try again.\",\n            status: 0,\n            statusText:\"\",\n            serviceId:\"\",\n            errorAction:\"generalError\",\n            errors:new InvalidPropertyCollection\n        },\n        \n        nestedModels:{\n            errors:InvalidPropertyCollection\n        }\n\n    });\n    return ErrorModel;\n});\n\n","define('js/data/models/helpers/DeviceDetection',[\n    'js/data/models/BaseModel'\n\n], function(BaseModel) {\n\n    var DeviceDetectionModel = BaseModel.extend({\n        type:\"DeviceDetection\",\n        defaults: {\n            screenSize:null,\n            screenSmall:\"screenSmall\",\n            screenSmallLowestThreshold:0,\n            screenSmallHighestThreshold:479,\n            screenMedium:\"screenMedium\",\n            screenMediumLowestThreshold:480,\n            screenMediumHighestThreshold:959,\n            screenLarge:\"screenLarge\",\n            screenLargeLowestThreshold:960,\n            screenLargeHighestThreshold:Infinity\n        },\n        initialize: function() \n        {\n            BaseModel.prototype.initialize.apply(this);\n            this.setScreenSize();\n        },\n        setScreenSize:function(screenSizeDetectionModel)\n        {\n            var stageWidth;\n            if(screenSizeDetectionModel){\n                stageWidth = screenSizeDetectionModel.get('stageWidth');\n            }else{\n                stageWidth = $(window).width();\n            }\n            \n            if(stageWidth <= this.get('screenSmallHighestThreshold')){\n                this.set('screenSize', this.get('screenSmall'));\n            }else if(stageWidth >= this.get('screenMediumLowestThreshold') && stageWidth <= this.get('screenMediumHighestThreshold')){\n                this.set('screenSize', this.get('screenMedium'));\n            }else if(stageWidth >= this.get('screenLargeLowestThreshold')){\n                this.set('screenSize', this.get('screenLarge'));\n            }\n        },\n        getScreenSize:function()\n        {\n           this.setScreenSize();\n           return this.get('screenSize');\n        },\n        isScreenSizeSmall:function()\n        {\n           return this.getScreenSize() === this.get('screenSmall');\n        },\n        isScreenSizeMedium:function()\n        {\n           return this.getScreenSize() === this.get('screenMedium');\n        },\n        isScreenSizeLarge:function()\n        {\n           return this.getScreenSize() === this.get('screenLarge');\n        }\n    });\n    return DeviceDetectionModel;\n});\n\n","define('js/data/models/helpers/ScreenSizeDetection',[\n    'js/data/models/BaseModel'\n\n], function(BaseModel) {\n\n    var ScreenSizeDetectionModel = BaseModel.extend({\n        type:\"ScreenSizeDetection\",\n        defaults: {\n            stageHeight:null,\n            stageWidth:null,\n        },\n        initialize: function() \n        {\n            BaseModel.prototype.initialize.apply(this);\n            $(window).on('resize', _.bind(this.onScreenResize, this));\n            this.onScreenResize();\n        },\n        onScreenResize: function()\n        {\n            this.set('stageHeight', Number($(window).height())); \n            this.set('stageWidth', Number($(window).width()));\n            this.trigger('screen:resize');\n        }\n        \n    });\n    return ScreenSizeDetectionModel;\n});\n\n","define('js/data/dataStore',[\n    'jquery',\n    'backbone',\n    'js/data/requestFactory',\n  //  'js/data/models/login/LoginModel',\n    'js/data/models/ErrorModel',\n  //  'js/data/models/user/UserSessionModel',\n    'js/data/models/helpers/DeviceDetection',\n    'js/data/models/helpers/ScreenSizeDetection'\n\n], function($, Backbone, requestFactory, /*LoginModel,*/ ErrorModel, /*UserSessionModel,*/ DeviceDetection, ScreenSizeDetection) {\n\n    var dataStoreModel = Backbone.Model.extend({\n        hasCheckedLocalStorage:false,\n        isLoading: true,\n        login:null,\n        dataError:null,       \n       // userSession:null,\n        deviceDetection:null,\n        screenSizeDetection:null,\n\n        parentRoute:null,\n        isLoginPage:false,\n        filestoreViewPreference:'grid',\n        initialSetUpLoadComplete:false,\n        \n        initialize: function() {\n            this.set('dataError', new ErrorModel());\n           // this.set('userSession', new UserSessionModel);\n           // this.set('login', new LoginModel());\n            // initialise global helpers\n            // screen sizes and device detection\n            this.set('deviceDetection', new DeviceDetection());\n            this.set('screenSizeDetection', new ScreenSizeDetection());\n            this.get('deviceDetection').listenTo(this.get('screenSizeDetection'), 'change:stageWidth', this.get('deviceDetection').setScreenSize, this.get('screenSizeDetection'));\n            //\n         //   this.listenTo(this.get('userSession').get('user'), 'change:currentCentreId', this.onCentreChange);\n            // initialise sharing sessionStorage between tabs using localStorage events\n            // listen for localStorage changes\n            $(window).on('storage', _.bind(this.onStorageChange, this));\n            // Add and then immediatly remove a new TEMPORARY date element into the \n            // localStorage to trigger the localStorage change event\n            window.localStorage.setItem('getSessionStorageValue', Date.now());\n            window.localStorage.removeItem('getSessionStorageValue');\n            // If the current window/tab is the first/initital window/tab of the \n            // application,  (ie if APP has just been launched), \n            // then there is no change of localstorage to catch. \n            // Therefore, the router 'execute' function will never be called \n            // and the application will fail to render it's first view.\n            // To workaround this, give the localstorage a moment to initialise \n            // itself and then trigger the event handler manually\n            setTimeout(this.onStorageInitialisedTimeout, 250);\n            //\n            requestFactory.setUpCORS();\n            this.initAjaxErrorHandler();\n        },\n        \n        onStorageInitialisedTimeout:function(event){\n            /* Some browsers don't support the storage event, and most of the \n             browsers that do support it will only call it when the storage is \n             changed by a different window.\n             \n             To get around this, we manually trigger the even handle so the \n             router can move on. This is only done if hasCheckedLocalStorage\n             hasn't already been flagged.\n             */\n            if(!this.hasCheckedLocalStorage){\n                $(window).trigger('storage');\n            }\n        },\n        onStorageChange:function(event)\n        {\n            if(!event.originalEvent)\n            {\n                //console.log(\"caught the blank event\");\n            }\n            else if(event.originalEvent.key === 'setSessionStorageValue')\n            {\n                window.localStorage.setItem('getSessionStorageValue', Date.now());\n                window.localStorage.removeItem('getSessionStorageValue');\n            }\n            else if(event.originalEvent.key === 'getSessionStorageValue')\n            {\n                window.localStorage.setItem('sessionValues', JSON.stringify(window.sessionStorage));\n                window.localStorage.removeItem('sessionValues');\n            }\n            else if(event.originalEvent.key === 'sessionValues' && event.originalEvent.newValue !== null)\n            {\n                var sessionValues = JSON.parse(event.originalEvent.newValue);\n                for (key in sessionValues)\n                {\n                    window.sessionStorage.setItem(key, sessionValues[key]);\n                }\n                this.get('login').getSavedTokenValues();\n            }\n            else if(event.originalEvent.key === 'logout')\n            {\n                this.get('login').revokeAuthorization();\n                this.initiateLogout();\n            }\n            else if(event.originalEvent.key === 'timeout')\n            {\n                this.revokeUser();\n            }\n            // set the hasCheckedLocalStorage flag and trigger store:storageInitialised\n            // event. store:storageInitialised is possibly listened to in the router\n            this.hasCheckedLocalStorage = true;\n            this.trigger('store:storageInitialised');\n        },\n        \n        initialiseCredentials:function()\n        {\n            window.localStorage.setItem('setSessionStorageValue', Date.now());\n            window.localStorage.removeItem('setSessionStorageValue');\n        },\n        \n        loadInSequence: function(queue, model)\n        {\n            // load next item in queue\n            if (queue.length)\n            {\n                // if queue contains items, remove first item load and load it\n                model = queue.shift();\n                //console.log(model);\n                if (model !== null)\n                {\n                    // check if data requested is already loaded\n                    // base model always returns false, override this in any models where you don't want to load\n                    if (!model.getIsAlreadyLoaded())\n                    {\n                        // if not loaded then load\n                        var that = this,\n                            loadOptions = this.getBasicLoadOptions();\n                        loadOptions.success = _.bind(this.loadSuccess, that, queue, model);\n                        // fetch item\n                        this.loadStart();\n                        model.load(loadOptions);\n                    }\n                    else\n                    {\n                        // if model already loaded then call init method if present\n                        if (_(model.init).isFunction())\n                            model.init();\n                        // if alread loaded load next item in queue\n                        this.loadSuccess(queue, model);\n                    }\n                }\n                else\n                {\n                    // model not found - cancel load and throw error\n                    this.isLoading = false;\n                    throw new Error(\"DataStore.loadInSequence(): model not found\");\n                }\n            }\n            else\n            {\n                // if queue empty then trigger update event in indicate loading is finished\n                this.isLoading = false;\n                this.loadSequenceComplete(model);\n            }\n        },\n        getBasicLoadOptions:function(){\n            var loadOptions = {\n                headers: requestFactory.getHeaders(),\n                timeout: 300000\n            };\n            return loadOptions;\n        },\n        loadStart: function() {\n            // trigger update event\n            this.isLoading = true;\n            this.trigger('store:loadStart');\n        },\n        \n        loadSuccess: function(queue, model)\n        {\n            //console.log(\"model type \"+model.type);\n            this.loadInSequence(queue, model);\n        },\n        \n        loadSequenceComplete: function(model) {\n            // trigger update event \n            this.isLoading = false;\n            /*if(model.type === 'userSession')\n            {\n                this.trigger('user:loadSuccess');\n            }*/\n            var event = 'store:';\n            /*if (this.loadEvent)\n            {\n                event += this.loadEvent;\n                this.loadEvent = null;\n                this.trigger(event,{model:model});\n            }\n            else\n            {*/\n                event += 'update';\n                this.trigger(event);\n            /*}*/\n        },\n                \n        loadData: function(queue, event)\n        {\n            // prevent multiple requests\n            /*if(this.get('login').checkLoginIsRequired())\n            {\n                //console.log(\"IS THIS VIA DATASTORE\");\n                window.location = \"../login/index.html#login\";\n            }*/\n            /*else if (!this.isLoading)\n            {*/\n                this.loadEvent = event;\n                /*var hasLogin = _.findWhere(queue, {\"type\":\"login\"});\n                if(!hasLogin && this.get('login').checkRefreshRequired())\n                {\n                    queue.unshift(this.get('login'));\n                }*/\n                this.loadInSequence(queue);\n           /* }*/\n        },\n        \n        checkUserLoad:function(queue)\n        {\n            \n            /*\n            if(!this.get('userSession').getIsAlreadyLoaded())\n            {\n                queue.unshift(this.get('userSession'));\n            }\n            */\n        },\n        \n        loadError: function(error) {\n            this.isLoading = false;\n            this.get('dataError').clear();\n            this.get('dataError').set(error);\n            /*\n            * On a 400 login error, the page should display a popup\n            * This should allow the user to log in again at the page they are currently at\n            * This is handled in the base page view, but may be called from any 400 error\n            * Whether this is local or global\n            * So an event is dispatched to handle this in the page\n            * Even if the call is not a page call\n            */ \n            /*if(error.errorAction === 'timeoutUser' && !this.isLoginPage)\n            {\n                console.log('trigger login error');\n                this.trigger('error:login');\n            }\n            else\n            {*/\n                this.trigger(\"store:error\");\n            /*}*/\n        },\n        \n        onCentreChange:function(event)\n        {\n            //requestFactory.setCurrentCentre(this.get('userSession').get('user').get('currentCentreId'));\n        },\n        \n        \n        initAjaxErrorHandler: function() {\n            var that = this;\n            $(document).ajaxError(function(event, jqXHR, settings, exception) {\n               /* if (that.get('login').isLogout)\n                {\n                    //if an error occurs in the logging out process\n                    //it should handle as if the call was successful\n                    //by removing the token and returning the user to the login page\n                    //the user is still logged out as they do not have credentials to access the services\n                    that.loadSequenceComplete(that.get('login'));\n                }\n                else\n                {*/\n                    that.loadError(that.getStatusError(jqXHR, exception));\n               /* }*/\n            });\n        },\n        \n        getStatusError:function(jqXHR, exception)\n        {\n            var statusError = {};\n            if (!jqXHR.status || jqXHR.status === null)\n            {\n               //If no status is returned, then the error is not from the server\n               //e.g.for an aborted request, or a network failure\n               console.log(\"non http status error\")\n               statusError = this.getNonHTTPStatusError(exception);\n            }\n            else\n            {\n                var attributes = jqXHR.responseJSON,\n                    isServerResponse = (attributes && attributes !== null && ((attributes.code && attributes.code > 0) || (jqXHR.status === 400 && attributes.error_description)))\n                if (isServerResponse)\n                {\n                    //If the response returned from the server is valid JSON \n                    //then error model attributes are created from the server response\n                    statusError = this.populateServerErrorMessage(jqXHR.status, jqXHR.statusText, attributes);\n                }\n                else\n                {\n                    //If no responseJSON is returned, and data Content-Type from the server is not JSON \n                    //or the server response does not bring back the expected data\n                    //then error model attributes are created manually\n                    statusError = this.populateLocalErrorMessage(jqXHR.status, jqXHR.statusText, attributes)\n                }\n            }\n            return statusError;        \n        },\n        \n        populateServerErrorMessage:function(status, statusText, serverError)\n        {\n            var errorObject = {};\n            errorObject.status = status;\n            errorObject.statusText = statusText;\n            if(status === 400)\n            {\n                errorObject.code = status;\n                errorObject.displayTitle = serverError.error;\n                errorObject.displayMessage = serverError.error_description;\n            }\n            else\n            {\n                errorObject.displayMessage = serverError.displayMessage;\n                errorObject.displayTitle = serverError.displayTitle;\n                errorObject.code = serverError.code;\n                errorObject.errors = serverError.errors;\n            }\n            if(status === 400 || status === 401)\n            {\n                errorObject.errorAction = \"timeoutUser\";\n            }\n            else if(status === 403)\n            {\n                errorObject.errorAction = \"userWithoutCredentials\";\n            }\n            return errorObject;\n        },\n        \n        populateLocalErrorMessage:function(status, statusText, localError)\n        {\n            var errorObject = {};\n            errorObject.status = status;\n            errorObject.statusText = statusText;\n            errorObject.code = status;\n            switch (status)\n            {\n                case 0:\n                    return this.getNonHTTPStatusError(\"timeout\");\n                    break;\n                case 400:\n                    errorObject.code = 400;\n                    errorObject.displayMessage = \"An error has occured with the login\";\n                    errorObject.displayTitle = statusText;\n                    errorObject.errorAction = \"timeoutUser\";\n                    break;\n                case 401:\n                    errorObject.displayMessage = \"Unauthorised response\";\n                    errorObject.displayTitle = \"Not a valid login\";\n                    // User not authorised or hasn't got the correct credentials - therefore not authorise \n                    //errorProperties.errorAction = \"revokeUser\";\n                    /////*******TEMPORARY********///////\n                    //Set as a timeout as this error is being returned from WebAPI if user token invalid\n                    errorObject.errorAction = \"timeoutUser\";\n                    break;\n                case 403: // unauthorised?\n                    errorObject.displayMessage = \"You are not authorised to view this page\";\n                    errorObject.displayTitle = \"Invalid credentials\";\n                    // 403 is a user trying to access a route/call that they don't have access to view\n                    errorObject.errorAction = \"userWithoutCredentials\";\n                    break;\n                default:\n                    console.log(\"500 - 404 - 406 - 422\");\n                    errorObject.displayMessage = statusText;\n                    errorObject.displayTitle = \"An error has occured\";\n                    errorObject.status = status;\n                    errorObject.statusText = statusText;\n                    break;\n            }\n            return errorObject;\n        },\n        \n        getNonHTTPStatusError: function(exception)\n        {\n            var displayMessage = \"This page is currently unavailable.\",\n                displayTitle = \"An unknown error has occured\",\n                statusText = exception,\n                status = 0;\n            switch (exception)\n            {\n                case 'parsererror':\n                    displayTitle = \"Error: Unexpected data.\";\n                    displayMessage = \"The data cannot be read\";\n                    break;\n                case 'timeout':\n                    displayTitle = \"The data call has timed out, please try again\";\n                    break;\n                case 'abort':\n                    displayTitle = \"The data call has aborted, please try again\";\n                    break;\n                case 'error':\n                    displayTitle = \"The data call has failed, this may be due to a lost connection. Please check your network or wifi settings and try again\";\n                    break;\n                default:\n                    break;\n            }\n            return {status: status, displayMessage: displayMessage, displayTitle: displayTitle, statusText: statusText, code:status};\n        },\n        \n        getCustomDataError:function(jqXHR, exception)\n        {\n            var error = this.getStatusError(jqXHR, exception);\n            if(error.status === 400 || error.status === 401 || error.status === 403)\n            {\n                //console.log(\"is a timeout or unauthorised\");\n                this.loadError(error);\n            }\n            return new ErrorModel(error, {parse:true});\n        },\n                           \n        \n        initiateLogout:function()\n        {\n            window.location = \"../login/index.html#/logout\";\n        },\n        \n        dataLogout:function()\n        {\n            this.clearUser();\n            this.get('login').isLogout = false;\n            this.get('login').resetDefaults();\n            this.get('login').revokeAuthorization();\n        },\n        \n        \n        /***\n         * Reset user object on logout\n         ***/\n        clearUser:function()\n        {\n            //this.set('user',null);\n            this.set('userId', null);\n            //this.set('user', new UserModel());\n            this.set('userSession',null);\n            this.set('userSession', new UserSessionModel());\n           // this.set('user', this.get('userSession').get('user'));\n        },\n        \n        revokeUser:function()\n        {\n            //console.log(\"revoke user\");\n            this.clearUser();\n            this.get('login').revokeAuthorization();\n            this.trigger('store:revokeUser');\n            window.location = \"../login/index.html#/login\";\n        },\n        \n        \n        returnToDefaultPage:function()\n        {\n            window.location = \"../login/index.html#/selectRole\";\n        },\n        \n        handleErrorAction:function(statusError)\n        {\n            switch(statusError.get('errorAction')){\n                case \"timeoutUser\":\n                    window.localStorage.setItem('timeout', Date.now());\n                    window.localStorage.removeItem('timeout');\n                    this.revokeUser();\n                    break;\n                case \"revokeUser\":\n                    this.revokeUser();\n                    break;\n                case \"userWithoutCredentials\":\n                    this.returnToDefaultPage();\n                    break;\n                default:\n                    //\n                    break;\n            }\n        }\n\n    });\n    return dataStoreModel;\n});\n\n","define('js/data/models/tree/BaseTreeModel',[\n    'js/data/requestFactory',\n    'js/data/models/BaseModel',\n    'js/data/collections/BaseCollection'\n    \n], function(requestFactory, BaseModel, BaseCollection) {\n\n    /**\n     * @class BaseTreeModel contains common data for all tree items\n     * the foundation parameters to initialise a treeview. All unique models base \n     * these attributes by only adding attributes. The BaseTreeModel is reccursive,\n     * Each item in the children collection is a BaseTreeCollection.\n     * The initial BaseTreeModel is considered the root of the tree. from that root\n     * all it's children and their children are from the inital item. ie; it is assumed\n     * that for a recursive tree to exist, the tree must have at least 1 item, \n     * that item is a BaseTreeModel\n     */\n    var BaseTreeModel = BaseModel.extend({\n        type:\"Tree\",\n        childrenLoaded:false,\n        parentModel:null,\n        rootModel:null,\n        additionalIds:null,\n        idAttribute:'itemId',\n        requiresReload:false,\n        defaults:{\n            itemId: null,\n            displayName: \"\",\n            genericCount:0,\n            parentId:null,\n            depth: 0,\n            childrenCount: 0,\n            canEdit:true,\n            isOpen:false,\n            isSelected:false,\n            children: null\n        },\n        \n        initialize:function()\n        {\n            this.listenTo(this, 'change:isSelected', this.onItemSelected, this);\n            BaseModel.prototype.initialize.apply(this);\n        },\n       url:function(){\n           // to be overriden. Each treeview will contain a different model with unique\n           // params and unique loading API criterior.\n           var jsonURL = \"../testjson/tree\";\n           if(this.loadParams.loadType === \"getChildren\"){\n               jsonURL += \"-item-\" + this.loadParams.itemId\n           }\n           jsonURL +=  \".json\";\n           console.log(\"json static url = \" + jsonURL); \n           return jsonURL;\n        },\n        parse:function(response)\n        {\n            if(!response.children)\n            {\n                response.children = [];\n            }\n            return this.parseChildren(response);\n        },\n        \n        parseChildren:function(response)\n        {\n            // additional to backbone's default parse.\n            // The API in which the models were designed within use lazy loading,\n            // ie; only request 20 items at a time with limit and offset.\n            // The children are added to the model's additional id's so the view \n            // can handle lazy loading logic\n            if(this.get('children') && this.get('children').length > 0)\n            {\n                this.additionalIds = _.pluck(response.children, 'itemId');\n                this.get('children').add(response.children, {parse:true});\n                response = _.omit(response, 'children');\n            }\n            else\n            {\n                response.children = new BaseCollection(response.children, {\n                    parse: true, model:this.constructor\n                });\n            }\n            return response;\n        },\n        \n        resetChildren:function()\n        {\n            if(this.get('children') !== null){\n                this.get('children').reset();\n                this.childrenLoaded = false;\n            }\n        },\n        \n        getLoadOffset:function()\n        {\n            // lazy loading utility to calculate the current offset\n            if(this.get('children') !== null)\n            {\n                var lastPos = this.get('children').length;\n                return Math.ceil(lastPos/this.rootModel.get('limit')) + 1;\n            }\n            return 1;\n        },\n        \n        onLoadSuccess:function()\n        {\n            // override backbone's onLoadSuccess to check if all children have\n            // been loaded (because of lazy loading) and to initialise it's parent\n            this.setParentModels();\n            if(this.get('children').length === this.get('childrenCount'))\n            {\n                this.childrenLoaded = true;\n            }\n        },\n        \n        setParentModels:function()\n        {\n            var that = this;\n            _.each(this.get('children').models, function(mod)\n            {\n                mod.parentModel = that;\n                mod.rootModel = that.rootModel;\n            });\n        },\n        \n        toggleOpenItemChildren:function(open)\n        {\n            _.each(this.get('children').models, function(mod)\n            {\n                mod.set('isOpen', open);\n            });\n        },\n        \n        toggleOpenNestedChildren:function(open)\n        {\n            this.set('isOpen', open);\n            _.each(this.get('children').models, function(mod)\n            {\n                mod.toggleOpenNestedChildren(open);\n            });\n        },\n        \n        onItemSelected:function()\n        {\n            //to be overridden - should be handled separately for individual models\n        },\n        \n        getIsAlreadyLoaded:function()\n        {\n            return false;//this.get('isLoaded');\n        },\n        \n        destroy:function(loadOptions)\n        {\n            // API delete the item from the DB\n            this.loadParams.loadType = \"delete\"; // needed to determine URL's\n            BaseModel.prototype.destroy.apply(this, [loadOptions]);\n        },\n        getTreeItem:function(itemId)\n        {\n            if(this.get('itemId') === itemId)\n            {\n                return this;\n            }\n            return this.getChildMatch(this.get('children'), 'children', 'itemId', itemId);\n        },\n        nestedModels:{\n            children: BaseCollection\n        }\n    });\n    return BaseTreeModel;\n});\n\n\n","define('dataStore',[\n    'js/data/dataStore',\n    'js/data/models/tree/BaseTreeModel'\n\n], function(dataStore, treeModel) {\n\n    var ExampleDataStore = dataStore.extend({\n        \n        defaults:{\n           tree:null\n        },\n        \n        initialize: function() {\n            dataStore.prototype.initialize.apply(this);\n            this.set('tree', new treeModel());\n        }\n    });\n    return new ExampleDataStore();\n});\n\n","define('js/router',[\n    'jquery',\n    'underscore',\n    'backbone',\n    'dataStore'\n\n], function($, _, Backbone, dataStore) {\n    var BaseRouter = Backbone.Router.extend({\n       currentView: null,\n\n       /**\n         * Override default Router.route method to all args to be passed to methods in routes\n         * @param {String} modelId e.g. \"qualification\"\n         *\n         */ \n              \n        initialize: function() {\n           // this.initialiseHeaderView();\n            // remover 'initialising-application-wrapper' selector from body\n           // document.body.className = document.body.className.replace(\"initialising-application-wrapper\",\"\");\n        },\n        execute: function(callback, args, name) {\n            // catch the execute function which is used in backbone's router to \n            // execute a view. \n            // Before a view is executed check the datastore flag 'hasCheckedLocalStorage'\n            if (!dataStore.hasCheckedLocalStorage) {\n                // If it hasn't been set, then the router must wait until \n                // the application has had chance to apply the session storage \n                // checks. This is done by adding a temporary listener and storing \n                // the execute functions arguments\n                this.executeArgument = [callback, args, name];\n                this.listenTo(dataStore, 'store:storageInitialised', this.onDataStoreInitialised, this);\n                return false;\n            }else{\n                // The application has checked the storage, carry on.\n                if (callback) callback.apply(this, args);\n            }\n        },\n        onDataStoreInitialised: function()\n        {\n            // The datastore has initialised and complete it's storage checks.\n            // nullify all temporary listeners and cariables and re-request the \n            // router's execute function.\n            this.stopListening(dataStore, 'store:storageInitialised');\n            this.execute(this.executeArgument[0], this.executeArgument[1], this.executeArgument[2]);\n            this.executeArgument = null;\n        },\n       /* initialiseHeaderView: function() {\n             //can be overriden in application router\n             this.headerView = new HeaderView();\n             //this.isHeaderInitialised = true;\n             this.listenTo(this.headerView, 'headerview:NavigationUpdate', this.onHeaderUpdate, this);\n        },*/\n        /*onHeaderUpdate:function(){\n            // the header navigation has re-rendered and may have altered in size.\n            // therefore, inform the current PageView. Each View that extends PageView \n            // can determine a new height once it has recieved the update\n            if(this.currentView !== null){\n                if(typeof this.currentView.onHeaderUpdate === \"function\"){\n                    this.currentView.onHeaderUpdate();\n                }\n            }\n        },*/\n        \n        showApplicationSetup:function()\n        {\n            console.log(\"SHOW APPLICATION SETUP\")\n            if (this.currentView !== null)\n            {\n                this.currentView.destroy();\n            }\n            this.currentView = null;\n            this.currentView = new ApplicationSetUpPageView();\n            this.listenTo(dataStore, 'setUp:complete', this.onInitialSetUpComplete);\n            this.currentView.render();\n        },\n        \n        onInitialSetUpComplete:function(event)\n        {\n            window.location.hash = this.nextLocation;\n        },\n        \n        switchView: function(view, viewType, viewModel, ignoreUserSessionLoad)\n        {\n          //  if (dataStore.initialSetUpLoadComplete || ignoreUserSessionLoad)\n            //{\n                // evaluate string arguments\n                View = this.referenceView(view);\n                if (!View)\n                {\n                    throw new Error(\"Invalid view\");\n                }\n\n                if (this.currentView !== null)\n                {\n                    this.currentView.destroy();\n                }\n                this.currentView = null;\n                //\n                var viewInitObject = {viewType: viewType};\n                if (viewModel !== null) {\n                    viewInitObject.model = viewModel;\n                }\n                this.currentView = new View(viewInitObject);\n                // reset the scroll position of the whole HTML page\n                // could potentially remember the scroll position and if coming back to a previous page set the scroll - ideal for large lists where you scroll all the way down to an item and then click it to view more details, then return back to list\n                document.body.scrollTop = document.documentElement.scrollTop = 0;\n                this.currentView.render();\n            //} \n           /* else\n            {\n                this.nextLocation = window.location.hash;\n                window.location.hash = '/setup';\n            }*/\n        },\n        \n        /*\n         * Check if view exists to ensure eval method can't be attacked with malicious JS string\n         */\n        viewExists: function(View)\n        {\n            if (typeof View === 'string' && this.switchableViews.indexOf(unescape(View)) > -1)\n            {\n                return true;\n            }\n            else\n            {\n                throw new Error(\"View not found\");\n                return false;\n            }\n        },\n\n        parseQueryString:function(queryString){\n            var params = {};\n            if(queryString){\n                _.each(\n                    _.map(decodeURI(queryString).split(/&/g),function(el,i){\n                        var aux = el.split('='), o = {};\n                        if(aux.length >= 1){\n                            var val = undefined;\n                            if(aux.length == 2)\n                                val = aux[1];\n                            o[aux[0]] = val;\n                        }\n                        return o;\n                    }),\n                    function(o){\n                        _.extend(params,o);\n                    }\n                );\n            }\n            return params;\n        },\n        referenceView: function(View)\n        {\n            if (typeof View === 'function')\n                return View;\n            if (this.viewExists(View))\n                return eval(View);\n            return false;\n        }\n    })\n    return BaseRouter;\n});\n","define('js/views/BaseView',[\n    'jquery',\n    'underscore',\n    'backbone'\n    \n], function($, _, Backbone) {\n    \n    var BaseView = Backbone.View.extend({\n        baseItemClickDebounceTimeout:null,\n        baseItemClickDebounceTime:250,\n        /**\n         * Renders view and returns reference to itself, postRender will be called after page has rendered\n         * @override\n         */\n        render: function() {\n            _.defer(_.bind(this.postRender, this));\n        },\n        \n                \n        /**\n         * Called after completion of render - use when functionality requires completion of page render (e.g. CSS etc)\n         */\n        postRender: function() {\n            // to be overidden\n        },\n                \n        /**/\n        baseOnItemClickedHandler:function(event){\n            var that = this;\n            if(this.baseItemClickDebounceTimeout){\n                this.baseClearItemClickedDefer();\n                this.onItemDoubleClickedHandler(event);\n                return false;\n            }\n            this.baseItemClickDebounceTimeout = setTimeout(function(){\n                that.baseItemClickedDefer(event);\n            },that.baseItemClickDebounceTime);\n        },\n        baseClearItemClickedDefer:function(){\n            clearTimeout(this.baseItemClickDebounceTimeout);\n            this.baseItemClickDebounceTimeout = null;\n        },\n        baseItemClickedDefer:function(proxiedEvent){\n            this.baseClearItemClickedDefer();\n            this.onItemSingleClickedHandler(proxiedEvent);\n        },\n        onItemSingleClickedHandler:function(proxiedEvent)\n        {\n            // to be overriden\n        },\n        onItemDoubleClickedHandler:function(proxiedEvent)\n        {\n            // to be overriden\n        },\n                \n        /**\n         * Appends a list of sub views to specified element\n         *\n         * @param {HTMLElement} el DOM element to append view to\n         * @param {Array} models array of data objects to populate views\n         * @param {Class} SubView reference to a Backbone view class- a new instance of this class with be appended for each model in list\n         * @returns {Array} subviews created\n         */\n        appendSubViewsToElement: function(el, models, SubView, args, events, subViewOptions)\n        {\n            var subViews = [],\n                options = subViewOptions !== undefined? subViewOptions : {};\n            _.each(models, function(model) {\n                options.model = model\n                var subView = new SubView(options);\n                subViews.push(subView);\n                subView.render();\n                el.append(subView.el);\n            });\n            return subViews;\n        },\n        destroyAppendedViews: function(subViews)\n        {\n            var subView;\n            while (subViews.length > 0) {\n                subView = subViews.shift();\n                subView.destroy();\n                subView = null;\n            }\n            subViews = null\n            return [];\n        },\n        stripDataIdFromElementId:function(element, delimiter){\n            if(!delimiter)\n                delimiter = \"-\";\n            var idStrings = element.attr(\"id\").split(delimiter);\n            return idStrings[idStrings.length - 1];\n        },\n        getNoDataMessageHTML:function(msg){\n            var html = \"<div class='no-data'>\";\n            html += msg;\n            html += \"</div>\";\n            return html;\n        },\n        getDataErrorMessageHTML:function(msg, title){\n            var html = \"<div class='data-error'>\";\n            if(title !== null)\n                html += \"<h5>\" + title + \"</h5>\";\n            html += msg;\n            html += \"</div>\";\n            return html;\n        },\n      \n        \n        \n        setContentsHeightFromParentOffset:function(parentJqueryEL, contentJqueryEL, cssSelector, includeBottomPadding){\n            if(!cssSelector)\n                cssSelector = \"height\";\n            if(!includeBottomPadding)\n                includeBottomPadding = true;\n            var availableContentHeight = Math.floor(parentJqueryEL.outerHeight() - this.getContentsOffsetFromParentOffset(parentJqueryEL, contentJqueryEL));\n            if(includeBottomPadding)\n                availableContentHeight -= Number(contentJqueryEL.css('padding-bottom').replace(\"px\", \"\"));\n            contentJqueryEL.css(cssSelector,  availableContentHeight);\n        },\n        getContentsOffsetFromParentOffset:function(parentJqueryEL, contentJqueryEL){\n            return Math.floor(contentJqueryEL.offset().top - parentJqueryEL.offset().top);\n        },  \n        onUndevelopedMessageAlert:function()\n        {\n            this.onAlert(\"This functionality has not yet been developed\", \"Not Available\");\n        },\n        \n        enableActionButton:function(buttonEl)\n        {\n            buttonEl.removeClass('disabled');\n            buttonEl.removeProp('disabled');\n        },\n        \n        disableActionButton:function(buttonEl)\n        {\n            buttonEl.addClass('disabled');\n            buttonEl.prop('disabled', true);\n        },\n        \n        \n        \n        destroyModel: function() {\n            if(this.model){\n                this.model.stopListening();\n                this.model = null;\n            }\n        },\n        destroyView: function() {\n            this.remove();\n            this.unbind();\n        },\n        destroyEl: function() {\n            this.$el.empty();\n            this.$el.remove();\n        },\n        destroy: function() {\n            this.destroyModel();\n            this.destroyView();\n            this.destroyEl();\n            this.baseClearItemClickedDefer(); \n            if (this.onDestroy) \n            {\n                this.onDestroy();\n            }\n        }\n    });\n    \n    return BaseView;\n});\n\n","define('js/views/BaseLoadingView',[\n    'dataStore',\n    'js/views/BaseView',\n    'spinner'\n    \n], function(dataStore, BaseView, Spinner) {\n    var BaseLoadingView = BaseView.extend({\n        dataRequested:false,\n        title:\"\",\n        viewType:\"\",\n     //   loaderElId:el,\n        initialLoadRenderRenderComplete: false,\n        showSpinner: true,\n        spinnerCurrentlyVisable: false,\n        /**\n         * Spinning loader config options\n         */\n        loaderOptions: {\n            lines: 8, // The number of lines to draw\n            length: 0, // The length of each line\n            width: 7, // The line thickness\n            radius: 10, // The radius of the inner circle\n            corners: 20, // Corner roundness (0..1)\n            rotate: 0, // The rotation offset\n            color: '#008080', // #rgb or #rrggbb00193C\n            speed: 1, // Rounds per second\n            trail: 60, // Afterglow percentage\n            shadow: false, // Whether to render a shadow\n            hwaccel: false, // Whether to use hardware acceleration\n            className: 'spinner', // The CSS class to assign to the spinner\n            zIndex: 2e9 // The z-index (defaults to 2000000000)\n        },\n                \n        initialize: function(options) {\n            BaseView.prototype.initialize.apply(this);\n            this.viewNumber = Math.floor(Math.random() * (10000000 - 100 + 1)) + 100;\n            if(!this.loaderElId){\n                this.loaderElId = this.el;\n            }\n            this.jqueryEL = $(this.el);\n            //\n            if (this.name){\n                this.loaderOptions.className = this.loaderOptions.className + \"-\" + this.name;\n            }\n        },\n        \n\n                \n       /* destroy: function() {\n            // destroy spinner\n            BaseView.prototype.destroy.apply(this);\n        },*/\n        \n        render: function() {\n            if(!this.initialLoadRenderRenderComplete){\n                this.initialLoadRenderRenderComplete = true;\n                this.initialLoadRender();\n            }\n            if (!this.dataRequested)\n            {\n                // show loading spinner if view has loadData method\n                this.showLoader();\n                // trigger data load\n                this.dataRequested = true;\n                var queue = [];\n                this.requestData(queue);\n            }\n            else\n            {\n                // show page content\n                this.removeSpinner();\n                this.renderViewContent();\n                this.initialiseLoaderElIdReference();\n            }\n            BaseView.prototype.render.apply(this);\n            return this;\n        },\n        \n        requestData:function(queue)\n        {   \n            dataStore.checkUserLoad(queue)\n            if(queue.length > 0)\n            {\n                dataStore.loadData(queue);\n            }\n            else\n            {\n                this.render();\n            }\n        },\n        \n        initialLoadRender: function() {\n            // to be overidden\n        },\n        renderViewContent: function() {\n            // to be overidden\n        },\n                \n        // can be overidden\n        initialiseLoaderElIdReference:function(){\n            this.loaderElId = $(this.loaderElId);\n        },    \n        showLoader: function()\n        {\n            if(this.showSpinner){\n                this.removeSpinner();\n                var spinner = new Spinner(this.loaderOptions).spin(),\n                    spinnerClass = \".\" + this.loaderOptions.className;\n                this.spinnerCurrentlyVisable = true;\n                $(this.loaderElId).append(spinner.el);\n                this.spinnerEL = $(this.loaderElId).find(String(\".\" + this.loaderOptions.className));\n                this.positionSpinner();\n                \n            }\n        },\n        /**\n         *Remove loading spinner\n         */\n        removeSpinner:function()\n        {\n            if (this.spinnerEL && this.spinnerCurrentlyVisable){\n                this.spinnerEL.empty().detach();\n                this.spinnerCurrentlyVisable = false;\n            }\n        },\n         /**\n         *Update position of loading spinner\n         */\n        positionSpinner: function()\n        {\n            // find spinner if present\n            if (this.spinnerEL && this.showSpinner)\n            {\n                this.spinnerEL.css(\"position\", \"absolute\");\n                var x = Math.floor(($(this.loaderElId).outerWidth() / 2) + $(this.loaderElId).offset().left);\n                this.spinnerEL.css(\"left\", x + \"px\");\n                var y = Math.floor(($(this.loaderElId).outerHeight() / 2) + $(this.loaderElId).offset().top) + this.getScrollTop();\n                this.spinnerEL.css(\"top\", y + \"px\");\n            }\n        },\n        /*\n        setContentsHeightFromParentOffset:function(parentJqueryEL, contentJqueryEL, cssSelector){\n            if(!cssSelector)\n                cssSelector = \"height\";\n            var availableContentHeight = Math.floor(parentJqueryEL.outerHeight() - (contentJqueryEL.offset().top - parentJqueryEL.offset().top));\n            contentJqueryEL.css(cssSelector,  availableContentHeight);\n        },\n        getContentsOffsetFromParentOffset:function(parentJqueryEL, contentJqueryEL){\n            return Math.floor(contentJqueryEL.offset().top - parentJqueryEL.offset().top);\n        },     \n        */\n        /**\n         * return scroll y position\n         * @returns {Number}\n         */\n        getScrollTop: function() {\n            if (typeof pageYOffset !== 'undefined') {\n                //most browsers\n                return pageYOffset;\n            }\n            else {\n                var B = document.body, //IE 'quirks'\n                    D = document.documentElement; //IE with doctype\n                D = (D.clientHeight) ? D : B;\n                return D.scrollTop;\n            }\n        },\n        \n        onDataLoadError: function(event, jqXHR, settings, exception)\n        {\n            //console.log(\"error caught in page view\");\n            if(this.removeSpinner)\n            {\n                this.removeSpinner();\n            }\n            var errorModel = dataStore.getCustomDataError(jqXHR, exception);\n            this.showLoadErrorMessage(errorModel);\n        },\n        \n        showLoadErrorMessage:function()\n        {\n            //to be overridden\n        }\n        \n    });\n    return BaseLoadingView;\n});\n\n","define('js/views/PageView',[\n    'dataStore',\n    'js/views/BaseLoadingView'\n    \n], function(dataStore, BaseLoadingView) {\n    var PageView = BaseLoadingView.extend({\n        el:'#pageContent',\n       // stageHeight:null,\n        contentPadding:null,\n        footerHeight:0,\n        // specifiy el for loader to be added to\n        loaderElId: '#pageContent',\n                \n        initialize: function(options) {\n            BaseLoadingView.prototype.initialize.apply(this);\n            dataStore.isLoginPage = false;\n            this.events = _.extend({}, BaseLoadingView.prototype.events, this.events);\n            this.listenTo(dataStore, 'store:update', this.onDataLoad, this);\n            this.listenTo(dataStore, 'store:error', this.onDataLoadError, this);\n            //\n            this.listenTo(dataStore.get('screenSizeDetection'), 'change:stageHeight', this.onResize, this);\n            //$(window).on('resize', _.bind(this.onResize, this));\n        },\n        \n        destroyDataStoreListeners: function() {\n            this.stopListening(dataStore, 'store:update');\n            this.stopListening(dataStore, 'store:error');\n            this.stopListening(dataStore.get('screenSizeDetection'), 'change:stageHeight');\n            this.stopListening(dataStore, 'error:login');\n        },\n        destroyView: function() {\n            this.unbind();\n            this.undelegateEvents();\n            this.stopListening();\n        },\n        destroyEl: function() {\n            this.$el.empty();\n        },\n        destroy: function() {\n            this.destroyDataStoreListeners();\n            BaseLoadingView.prototype.destroy.apply(this);\n        },\n        \n        onDataUpdate:function(event)\n        {\n            this.render();\n        },\n        \n        renderViewContent: function() {\n            this.renderPageContent();\n            if(dataStore.get('screenSizeDetection').get('stageHeight') !== null && this.contentPadding !== null)\n            {\n                this.setPageContentHeight();\n            }else{\n                this.onResize();\n            }\n        },   \n        renderPageContent: function() {\n            // to be overidden\n        },\n                \n        // can be overidden\n    /*    initialiseLoaderElIdReference:function(){\n            this.loaderElId = $(this.loaderElId);\n        },*/\n        \n        onResize: function()\n        {\n            this.contentPadding = Number(this.jqueryEL.css('padding-top').replace(\"px\", \"\")) + Number(this.jqueryEL.css('padding-bottom').replace(\"px\", \"\"));\n            this.footerHeight = this.getFooterHeight();\n            this.setPageContentHeight();\n            this.positionSpinner();\n        },\n        onHeaderUpdate: function()\n        {\n            // can be overriden for complex pages that maybe rely on offsets of \n            // page elements to determine the calculated height. \n            this.onResize();\n        },\n        setPageContentHeight:function()\n        {\n            var availablePageHeight = Math.floor(dataStore.get('screenSizeDetection').get('stageHeight') - (this.jqueryEL.offset().top +  this.contentPadding)) - this.footerHeight;\n            this.jqueryEL.css(\"min-height\",  availablePageHeight);\n            this.setAdditionalPageItemsHeight(availablePageHeight);\n        },\n     \n        setAdditionalPageItemsHeight:function(availablePageHeight)\n        {\n            // can be used to set further DOM items once the availablePageHeight has been calculated\n        },\n        \n        getFooterHeight: function()\n        {\n            var footers = document.getElementsByTagName('footer');\n            if(footers.length){\n                return footers[0].offsetHeight;\n            }else{\n                return 0;\n            }\n        },\n        \n        onDataLoad: function(model)\n        {\n            this.render();\n        },\n        \n        onDataLoadError: function()\n        {\n            if(this.removeSpinner)\n            {\n                this.removeSpinner();\n            }\n            var errorModel = dataStore.get(\"dataError\");\n            //only show alert if not 400 error\n            //400 are handled with a login popup\n            /*if(errorModel.get('status') !== 400 && errorModel.get('status') !== 401)\n            {*/\n             //   this.onAlert(errorModel.get(\"displayTitle\")+\"<br>\"+errorModel.get(\"displayMessage\"), \"Data error\");\n            //}\n        }\n      \n    });\n    return PageView;\n});\n\n","\ndefine('text!js/views/sectionsStack/SectionsStackLayout.html',[],function () { return '<article id=\"<%=articleId%>\" class=\"page-container section-stack\">\\n\\n    <header>\\n        <h2><%=pageTitle%></h2>\\n    </header>\\n\\n    <div class=\"grid <%=gridClass%> <%=gridType%>\" data-focused-item-ordinal=\"<%=sectionsStack[currentFocusedIndex].ordinal%>\" data-focused-index=\"<%=currentFocusedIndex%>\">\\n        <% _.each(sectionsStack, function(item, index){ %>\\n        <div class=\"flex-column <%=item.class%>\" data-item-ordinal=\"<%=item.ordinal%>\" data-index=\"<%=index%>\">\\n            <!--<section class=\"section-stack-item\">\\n\\n            </section>-->\\n        </div>\\n        <% }) %>\\n    </div>\\n    \\n</article>';});\n\n","\ndefine('text!js/views/sectionsStack/section/BaseSection.html',[],function () { return '<% if(index > 0) { %>\\n<div class=\"action-button toggle-open-close\" type=\"button\">\\n    <div class=\"arrow closed\"></div>\\n</div>\\n<% } %>\\n<div class=\"section-stack-container\">\\n    <% if(showHeader) { %>\\n    <header></header>\\n    <% } %>\\n    <div class=\"content\"></div>\\n</div>\\n\\n';});\n\n","\ndefine('text!js/views/sectionsStack/section/BaseSectionHeader.html',[],function () { return '<div class=\"cel-title\">\\n    <h3><%=displayName%></h3>\\n</div>';});\n\n","define('js/views/sectionsStack/section/BaseSectionView',[\n    'dataStore',\n    'js/views/BaseLoadingView',\n    'text!js/views/sectionsStack/section/BaseSection.html',\n    'text!js/views/sectionsStack/section/BaseSectionHeader.html'\n  \n], function(dataStore, BaseView, BaseSectionTemplate, BaseSectionHeaderTemplate) {\n\n    var BaseSectionView = BaseView.extend({\n        name:\"BaseSection\",\n        title:\"Section title\",\n        model:null,\n        template:null,\n        headerTemplate:null,\n        showHeader:true,\n        index:null,\n        isOpen:false,\n        restrictHeightToScreen:false,\n        //\n        topOffset:0,\n        contentOffset:0,\n        verticalPadding:0,\n        sectionBottomPadding:0,\n        sectionEL:null,\n        contentEL:null,\n        openCloseButtonEL:null,\n        openCloseButtonWidth:30,\n        rendered:null,\n        nullModelMessage:\"There is currently no item selected\",\n        //\n        initialize: function(options) {\n            this.events = _.extend({}, BaseSectionView.prototype.events, this.events);\n            BaseView.prototype.initialize.apply(this);\n            this.initialiseViewParametersFromOptions(options);\n            this.initialiseLayoutTemplate();\n            this.initialiseHeaderTemplate();\n            if(this.model !== null){\n                this.initialiseModelListeners();\n            }\n        },\n        initialiseViewParametersFromOptions:function(options)\n        {\n            if (options.isOpen !== undefined) \n            {\n                this.isOpen = options.isOpen;\n            }\n            if (options.showHeader !== undefined) \n            {\n                this.showHeader = options.showHeader;\n            }\n            if (options.title !== undefined) \n            {\n                this.title = options.title;\n            }\n            if (options.restrictHeightToScreen !== undefined) \n            {\n                this.restrictHeightToScreen = options.restrictHeightToScreen;\n            }\n        },\n        initialiseLayoutTemplate:function()\n        {\n            this.template = _.template(BaseSectionTemplate);\n        },\n        initialiseHeaderTemplate:function()\n        {\n            this.headerTemplate = _.template(BaseSectionHeaderTemplate);\n        },\n        events:\n        {\n            \"click .toggle-open-close\":\"onOpenCloseToggle\"\n        },\n     \n        render: function()\n        {\n            $(this.el).html(this.template(this.getTemplateData()));\n            this.sectionEL = $(this.el).find('.section-stack-container');\n            BaseView.prototype.render.apply(this);\n        },\n        getTemplateData:function(){\n            var data = {};\n            data.showHeader = this.showHeader;\n            data.index = this.index;\n            return data;\n        },\n        postRender:function()\n        {\n            if(this.index > 0){\n                this.openCloseButtonEL  = $(this.el).find('.action-button.toggle-open-close');\n                this.openCloseButtonWidth = this.openCloseButtonEL.outerWidth();\n            }\n            this.contentEL = $(this.el).find('.content').first();\n            this.initialiseViewCalculations();\n            this.rendered = true;\n            if(!this.isOpen){\n                this.close();\n                if(this.height)\n                    this.setHeight(this.height);\n            }else{\n                this.renderSection();\n            }\n            //\n            var columnEL = document.getElementsByClassName('flex-column')[this.index],\n                that = this;\n            this.prefixedEventListener(columnEL,\"transitionEnd\",function(e){\n                that.onTransistionComplete(e);\n            });\n        },\n        \n        prefixedEventListener:function(element, type, callback) {\n            var pfx = [\"webkit\", \"moz\", \"MS\", \"o\", \"\"];\n            for (var p = 0; p < pfx.length; p++) {\n                if (!pfx[p]) type = type.toLowerCase();\n                element.addEventListener(pfx[p]+type, callback, false);\n            }\n        },\n        onTransistionComplete:function(event){\n            event.stopPropagation();\n            this.initialiseViewCalculations();\n            if(this.height)\n                this.setHeight(this.height);\n        },\n        initialiseViewCalculations:function()\n        {\n            this.verticalPadding = Number($(this.el).css('padding-top').replace(\"px\", \"\")) + Number($(this.el).css('padding-bottom').replace(\"px\", \"\"));\n            if(this.contentEL.offset().top > 0)\n                this.contentOffset = Math.ceil(this.contentEL.offset().top - $(this.el).offset().top);\n            this.sectionBottomPadding = Number($(this.sectionEL).css('padding-bottom').replace(\"px\", \"\"));\n        },\n             \n        renderSection:function()\n        {   \n            if(!this.isOpen)\n                this.onOpenCloseToggle();\n            this.sectionEL.find('header').html(this.headerTemplate(this.getHeaderTemplateData()));\n            this.renderSectionsContent();\n            //\n            this.initialiseViewCalculations();\n            if(this.height)\n                this.setHeight(this.height);\n            //this.events();\n           /* this.events = _.extend({\n            }, BaseView.prototype.events, this.events);\n            this.delegateEvents();*/\n        },\n        \n        renderSectionsContent:function()\n        {\n            if(this.model !== null){\n                this.contentEL.html(\"Rendered :)\");\n            }else{\n                this.contentEL.html(this.getNoDataMessageHTML(this.nullModelMessage));\n            }\n        },\n      \n\n        getHeaderTemplateData:function(){\n            var data = {};\n            if(this.model !== null){\n                data = this.model.toJSON();\n            }else{\n                data.displayName = this.title;\n            }\n            return data;\n        },\n        onDataLoadError:function(event, jqXHR, settings, exception)\n        {\n            var statusError = dataStore.getCustomDataError(jqXHR, exception);\n            // step 1, decide which 'loadType' caused the error, ie loadType:editDescription or editName\n            var loadType = settings.loadType;\n            // step 2, find the form item view that acts on behalf of the current loadType error from step 1\n        },\n\n        updateModel: function(currentSelectedModel)\n        {\n            this.destroyModel();\n            this.model = currentSelectedModel;\n            this.initialiseModelListeners();\n            this.renderSection();\n        },\n        \n        onOpenCloseToggle:function(event)\n        {\n            if(this.isOpen){\n                this.isOpen = false;\n                this.close();\n            }else{\n                this.isOpen = true;\n                this.open();\n                this.renderSection();\n            }\n            this.trigger('sectionStackView:openClose', this.isOpen? \"open\" : \"close\", this.index);\n        },\n        close:function()\n        {\n            //this.openCloseButtonEL.find('.arrow').removeClass('right-rotate').addClass('left-rotate');\n            this.openCloseButtonEL.find('.arrow').removeClass('open').addClass('closed');\n            this.sectionEL.addClass('closed');\n        },\n        open:function()\n        {\n            this.openCloseButtonEL.show();\n            //this.openCloseButtonEL.find('.arrow').removeClass('left-rotate').addClass('right-rotate');\n            this.openCloseButtonEL.find('.arrow').removeClass('closed').addClass('open');\n            this.sectionEL.removeClass('closed');\n        },       \n        setTopOffset:function(offset){\n            this.topOffset = offset;\n            $(this.el).css('margin-top', this.topOffset > 0 ? this.topOffset + this.verticalPadding : this.topOffset + \"px\");\n        },\n        setHeight:function(height){\n            this.height = height;\n            if(this.rendered){\n                var h = this.topOffset > 0 ? this.height - this.verticalPadding : this.height\n                var contentHeight = (h - (this.contentOffset + this.verticalPadding));\n                if(this.sectionBottomPadding > 0)\n                    contentHeight = contentHeight - this.sectionBottomPadding;\n                if(this.restrictHeightToScreen){\n                    this.sectionEL.css('height', (h - this.verticalPadding) + \"px\");\n                    if(this.contentEL){\n                        this.contentEL.css('height', contentHeight + \"px\");\n                        this.setAdditionalViewItemHeights(contentHeight);\n                    }\n                }else{\n                    this.setAdditionalViewItemHeights(contentHeight);\n                }\n                \n                \n                /*if(this.contentEL){\n                    this.contentEL.css('height', contentHeight + \"px\");\n                    this.setAdditionalViewItemHeights(contentHeight);\n                }*/\n            }\n        },\n        setAdditionalViewItemHeights: function(contentHeight){\n            // to be overriden\n        },\n        initialiseModelListeners: function() {\n            // to be overriden\n        },\n        removeModelListeners: function() {\n            // to be overriden\n        },\n        destroyModel: function() {\n            if(this.model !== null){\n                this.removeModelListeners();\n            }\n            BaseView.prototype.destroyModel.apply(this);\n        },\n        destroy:function()\n        {\n            this.template = null;\n            this.name = null;\n            this.el = null;\n            BaseView.prototype.destroy.apply(this);\n        }\n    });\n    return BaseSectionView;\n});\n\n","define('js/views/sectionsStack/BaseSectionsStackPageView',[\n    'dataStore',\n    'js/views/PageView',\n    'text!js/views/sectionsStack/SectionsStackLayout.html',\n    'js/views/sectionsStack/section/BaseSectionView'\n    \n], function(dataStore, PageView, LayoutTemplate, BaseSectionView) {\n\n    var BasePageSectionsStackView = PageView.extend({\n        name:\"Base sections stack page view\",\n        articleId:\"basePageSectionsStackContent\",\n        gridClass:\"page-section-stack-grid\",\n        gridType:\"dual-focus\", // dual-focus|| slider\n        currentDefaultFocusedIndex:0,\n        currentFocusedIndex:0,\n        sectionsStack:null,\n        topOffset:0,\n        enableSliding:false,\n        gridEL:null,\n        elementsOffsetY:null,\n        renderedPageContent:false,\n        //\n        initialize: function(options)\n        {\n            PageView.prototype.initialize.apply(this, [options]);\n            dataStore.isLoading = false;\n            this.initialiseLayoutTemplate();\n            this.initialiseModel();\n            this.sectionsStack = [];\n            this.initialiseSectionsStack();\n            //\n            this.listenTo(dataStore.get('deviceDetection'), 'change:screenSize', this.onDeviceDetectionChange, this);\n            this.listenTo(dataStore.get('screenSizeDetection'), 'change:stageWidth', this.onStageWidthResize, this);\n            this.enableSliding = this.getEnableSliding();\n            $(window).on('scroll', _.bind(this.onScroll, this));\n        },\n        initialiseLayoutTemplate:function()\n        {\n            this.template = _.template(LayoutTemplate);\n        },\n        initialiseModel:function()\n        {\n            // to be overrideen\n            //this.model = dataStore...\n        },\n        initialiseSectionsStack:function()\n        {\n            this.sectionsStack.push({\n                view:new BaseSectionView({\n                    isOpen:true,\n                    restrictHeightToScreen:false,\n                    showHeader:false\n                }),\n                class:\"primary\",\n                ordinal: 1\n            });\n            this.sectionsStack.push({\n                view:new BaseSectionView({\n                    isOpen:false,\n                    restrictHeightToScreen:true\n                }),\n                class:\"secondary\",\n                ordinal: 2\n            });\n        },\n        getEnableSliding:function()\n        {\n            if(this.gridType === \"slider\"){\n                return true;\n            }else if(dataStore.get('deviceDetection').get('screenSize') !== \"screenLarge\"){\n                return true;\n            }else if(this.sectionsStack.length > 2){\n                return true;\n            }\n            return false;\n        },\n        setEnableSliding:function(flag)\n        {\n            var hasEnableSlidingChanged = flag !== this.enableSliding;\n            this.enableSliding = flag;\n            if(hasEnableSlidingChanged)\n                this.slideToSection(this.currentFocusedIndex, false);\n        },\n        events:{\n           //\n        },\n        \n        renderPageContent:function(){\n            $(this.el).html(this.template(this.getTemplateData()));\n            this.gridEL = $(this.el).find('.grid.' + this.gridClass);\n            //\n            this.initialiseViewCalculations();\n            this.initialiseSectionsStackViews();\n            //\n            this.renderedPageContent = true;\n            this.delegateEvents();\n        },\n        getTemplateData:function(){\n            var data = {};\n            data.pageTitle = this.name;\n            data.articleId = this.articleId;\n            data.sectionsStack = this.sectionsStack;\n            data.gridClass = this.gridClass;\n            data.gridType = this.gridType;\n            data.currentFocusedIndex = this.currentFocusedIndex\n            return data;\n        },\n             \n        initialiseSectionsStackViews:function()\n        {\n            var that = this;\n            _.each(this.sectionsStack, function(section, index){\n                that.addSectionsStackViewsListeners(section.view, index);\n                //section.view.el = that.gridEL.find('[data-item-ordinal=\"'+section.ordinal+'\"]');// > section.section-stack-item');\n                section.view.setElement(that.gridEL.find('[data-item-ordinal=\"'+section.ordinal+'\"]'));\n                section.view.index = index;\n                section.view.render();\n            });\n        },\n        addSectionsStackViewsListeners:function(sectionView, index)\n        {\n            switch(index){\n                case 0:\n                    this.listenTo(sectionView, 'sectionStackView:itemSelect', this.onSectionItemSelected, this);\n                    break;\n                case 1:\n                    this.listenTo(sectionView, 'sectionStackView:openClose', this.onSectionViewOpenClose, this);\n                    break;\n            }\n        },\n        removeSectionsStackViewsListeners:function(sectionView, index)\n        {\n            switch(index){\n                case 0:\n                    this.stopListening(sectionView, 'sectionStackView:itemSelect', this.onSectionItemSelected);\n                    break;\n                case 1:\n                    this.stopListening(sectionView, 'sectionStackView:openClose', this.onSectionViewOpenClose);\n                    break;\n            }\n        },\n        onHeaderUpdate: function()\n        {\n            this.initialiseViewCalculations();\n            this.setAdditionalPageItemsHeight();\n        },\n        onDeviceDetectionChange:function()\n        {\n            this.initialiseViewCalculations();\n            this.updateNodeDetailsView();\n            this.setAdditionalPageItemsHeight();\n        },\n        initialiseViewCalculations:function()\n        {\n            this.elementsOffsetY = this.gridEL !== null ? Math.ceil($(this.gridEL).offset().top) : 0;\n        },\n                \n        onStageWidthResize: function()\n        {\n            if(this.enableSliding && this.currentFocusedIndex > 0)\n                this.slideToSection(this.currentFocusedIndex, false);\n        },\n\n        setAdditionalPageItemsHeight:function(availablePageHeight)\n        {\n            this.setSectionsStackViewHeights();\n        },\n        setSectionsStackViewHeights:function(scrollTop)\n        {\n            scrollTop = scrollTop === undefined ? $(window).scrollTop() : scrollTop;\n            if(this.renderedPageContent){\n                var h = (dataStore.get('screenSizeDetection').get('stageHeight') - this.elementsOffsetY) + (scrollTop - this.topOffset);\n                this.gridEL.css('min-height', h);\n                _.each(this.sectionsStack, function(section, index){\n                    //if(section.view.restrictHeightToScreen){\n                        section.view.setHeight(h);\n                    //}\n                });\n            }\n        },\n        onScroll: function()\n        {\n            if(this.renderedPageContent){\n                var scrollTop = $(window).scrollTop();\n                this.topOffset = (scrollTop - this.elementsOffsetY);// + this.sectionsStack[this.currentSection].view.verticalPadding;\n                if(this.topOffset < 0)\n                    this.topOffset = 0;\n                var that = this;\n                _.each(this.sectionsStack, function(section, index){\n                    if(section.view.restrictHeightToScreen){\n                        section.view.setTopOffset(that.topOffset);\n                   }\n                });\n                this.setSectionsStackViewHeights(scrollTop);\n            }\n        }, \n        updateNodeDetailsView:function()\n        {\n            this.setEnableSliding(true);\n            //\n            /*\n             * \n             * GUY. Not really sure why this is in to be honest.\n            It seems to cause a bug with the slide stack options. \n            The bug was when the device width went from large to <large and back again.\n            It then wouldn't slide to the appropriate stack ordinal and caused further\n            ugly re-draw problems thereafter. \n            Seemed safer to just set it to always slide as i could figure out why we wouldn't.\n            \n            switch(dataStore.get('deviceDetection').get('screenSize'))\n            {\n                case \"screenSmall\":\n                case \"screenMedium\":\n                    this.setEnableSliding(true);\n                    break;\n                case \"screenLarge\":\n                default:\n                    this.setEnableSliding(false);\n                    break;\n            }\n            */\n        },\n        onSectionViewOpenClose: function(direction, index)\n        {\n            if(index !== 0){\n                if(direction === \"close\"){\n                    this.currentFocusedIndex = index - 1;//this.currentDefaultFocusedIndex;\n                    //\n                }else{\n                    this.currentFocusedIndex = index;\n                }\n            }\n            this.gridEL.removeData('data-focused-item-ordinal');\n            this.gridEL.removeData('data-focused-index');\n            this.gridEL.attr('data-focused-item-ordinal', this.sectionsStack[this.currentFocusedIndex].ordinal);\n            this.gridEL.attr('data-focused-index', this.currentFocusedIndex);\n            if(this.enableSliding){\n                this.slideToSection(this.currentFocusedIndex);\n            }\n        },\n        onSectionItemSelected: function(item, index)\n        {\n            /*if(index === 0){\n                var temporaryModel = new Backbone.Model({ displayName: \"Item \" + item, id:item});\n                this.sectionsStack[1].view.updateModel(temporaryModel);\n            }*/\n        },\n        slideToSection:function(sectionIndex, animate){\n            if(this.renderedPageContent){\n                var gridWidth = this.gridEL.innerWidth(),\n                    scrollPos = gridWidth * sectionIndex;\n                    animate = animate === undefined?true:animate;\n                if(animate){\n                    this.gridEL.animate({scrollLeft: scrollPos});\n                }else{\n                    this.gridEL.scrollLeft(scrollPos);\n                }\n            }\n            \n        },\n        destroyDataStoreListeners: function() {\n            this.stopListening(dataStore.get('deviceDetection'), 'change:screenSize');\n            this.stopListening(dataStore.get('screenSizeDetection'), 'change:stageWidth');\n            PageView.prototype.destroyDataStoreListeners.apply(this);\n        },\n        destroySectionsStackViews:function(){\n            var that = this;\n            _.each(this.sectionsStack, function(section, index){\n                that.removeSectionsStackViewsListeners(section.view, index);\n                section.view.destroy();\n                section.view = null;\n            });\n        },\n        destroySectionsStack:function(){\n            this.destroySectionsStackViews();\n            var sectionStackItem;\n            while (this.sectionsStack.length > 0) {\n                sectionStackItem = this.sectionsStack.shift();\n                sectionStackItem = null;\n            }\n            this.sectionsStack = [];\n        },\n        destroy:function()\n        {\n            this.destroySectionsStack();\n            PageView.prototype.destroy.apply(this);\n        }\n    });\n    return BasePageSectionsStackView;\n});\n\n","\ndefine('text!js/views/tree/TreeView.html',[],function () { return '<%= nodeItemTemplate %>\\n<% if(childrenCount > 0){ %>\\n<ul class=\"tree-node-item-children\"></ul>\\n<% } %>\\n\\n';});\n\n","\ndefine('text!js/views/tree/TreeNodeItem.html',[],function () { return '<div class=\"tree-node-item\" data-id=\"<%=itemId%>\">\\n    <div class=\"cel-depth\" style=\"width: <%= depth * depthIndent %>px\"></div>\\n    <% if(childrenCount > 0){ %>\\n    <div class=\"cel-arrow\">\\n        <div class=\"<% if( isOpen == true ){ %>open<% } else { %>closed<% } %>\"></div>\\n    </div>\\n    <% } %>\\n    <div class=\"cel-display-name active-select-area\">\\n        <%= displayName %>\\n    </div>\\n    <div class=\"cel-generic-count active-select-area\">\\n        <%= genericCount %>\\n    </div>\\n</div>';});\n\n","define('js/views/tree/TreeView',[\n    'dataStore',\n    'js/views/BaseLoadingView',\n    'text!js/views/tree/TreeView.html',\n    'text!js/views/tree/TreeNodeItem.html'\n\n], function(dataStore, BaseLoadingView, TreeTemplate, TreeNodeItem) {\n    /**\n     * @class The treeView renders upon js/data/models/tree/BaseTreeModel.\n     * It has to be assumed that the tree has at least one item, and that is a\n     * Model extended from BaseTreeModel. The tree is rendered in a page as one initial\n     * TreeView. The model that drives it can contain children, those children are looped\n     * and if a child has properties, the treeView will create another instance\n     * of itself within itself. Each instance of treeView only concerns itself with the\n     * items model and it's children. It doesn't need to know any parental history.\n     * TreeView is designed not to be extended. You get unique functionality from unique\n     * treeNodeItem's passed in and also from event handlers for every unique instance of an \n     * extended BaseTreeModel\n     */\n    var treeView = BaseLoadingView.extend({\n\n        tagName: 'li',\n        collapseSpeed:250, // animation speed of the tree (ms)\n        depthIndent:10, // depth indent. usually multiplied by the depth integer for each model. EG; padding-left = this.model.depth * this.depthIndent + 'px';\n        childTreeViews:null,\n        nodeItemTemplate:TreeNodeItem, // default node item template that has generic open/close arrow and displayName. Should be overridden to the specific page/model\n        nodeItemHeight:30, // The height of the node item once rendered. Used to determine the height of the tree EL while loading\n        nodeItemEL:'.tree-node-item', // element that opens/closes and contains the ui nodeTree\n        nodeChildrenEL:'.tree-node-item-children', // ui element that contains all the children\n        openCloseNodeItem:true, // set to true to toggle open and close of node item. Set to false and node item doesn't open/close\n        openCloseArrowOnly:false, // set to true to toggle open and close of node arrow if it has children.\n        arrowEL:\".cel-arrow\", // arrow icon element within nodeItem to visualize open and close#\n        showArrowEL:true, // display arrow icon element\n        loadChildrenInternally:true, // on open of a node, if the item has chldren then an internal load is requested in this tree view instance model. setting this to false will trigger a loadChildren event\n        isModelLoading:false,\n        // additionalNodeStateParams/Value/Selector are all part of the same group. If Params is Passed in then Value and Selector is passed in\n        additionalNodeStateParams:null, // Similar to 'isSelected', the node can have additional states such as 'isAttached'. The Param is included and listened to 'change' within the model\n        additionalNodeStateValue:null, // Action to be taken on if the additionalNodeStateParams equals the additionalNodeStateValue in the 'change' handler\n        additionalNodeStateSelector:\"\", // CSS selector to be added to the node if additionalNodeStateParams equals the additionalNodeStateValue in the 'change' handler\n        //\n        additionalModelListenersHandlers:null, // ROUGH  set of listeners to check for changes in the model that should be updated in the tree node\n        additionalRenderFunction:null, // \n        specifyDepth:true, // A tree call can have a parameter to load only the immediate children of a model or all children. If specifyDepth is set to true, only the immediate children will be loaded. If specifyDepth is false, the whole tree will be loaded in the first call.\n        initialize: function(options) {\n            BaseLoadingView.prototype.initialize.apply(this);\n            if (options || typeof options === 'object') {\n                this.options = options;\n                this.setOptionParams();\n            }else{\n                this.template = _.template(TreeTemplate);\n            }\n            this.treeView = treeView;\n            this.childTreeViews = [];\n            // When models children change\n            this.model.bind('change:children', this.onChildrenLoaded, this);\n            this.listenTo(this.model, 'change:isSelected', this.onSelectedStateChange, this);\n            this.listenTo(this.model, 'deleteSuccess', this.onItemDelete, this);\n            this.listenTo(this.model, 'change:'+this.additionalNodeStateParams, this.onAdditionalNodeStateParamsChange, this);\n            // ROUGH\n            if(this.additionalModelListenersHandlers && this.additionalModelListenersHandlers.length > 0){\n                var that = this;\n                _.each(this.additionalModelListenersHandlers, function(obj) {\n                    that.listenTo(that.model, obj.listener, obj.handler, that);\n                });\n            }\n            this.model.set('viewReference', this);    \n            this.name = \"treeview\";\n          //  this.initialiseEvents();\n        },\n        \n        setOptionParams:function(){\n            // If a template is not passed in the options, set the template to the default tree template\n            this.template = this.options.template === undefined ? _.template(TreeTemplate) : _.template(this.options.template);\n            // If speed not specified, set to 250ms by default\n            this.collapseSpeed = this.options.collapseSpeed === undefined ? this.collapseSpeed : parseInt(this.options.collapseSpeed, 10);\n            // If openCloseArrowOnly is specified, set it to options value\n            if (this.options.openCloseArrowOnly !== undefined) {\n                this.openCloseArrowOnly = this.options.openCloseArrowOnly;\n            }\n            // If openCloseNodeItem is specified, set it to options value\n            if (this.options.openCloseNodeItem !== undefined) {\n                this.openCloseNodeItem = this.options.openCloseNodeItem;\n            }\n            // If nodeItemTemplate is specified, use it instead of the default generic node item template\n            if (this.options.nodeItemTemplate !== undefined) {\n                this.nodeItemTemplate = this.options.nodeItemTemplate;\n            }\n            // If nodeItemHeight is specified, use it instead of the default\n            if (this.options.nodeItemHeight !== undefined) {\n                this.nodeItemHeight = this.options.nodeItemHeight;\n            }\n            // If arrowEL is specified, use it instead of the default arrowEL depending on the this.nodeItemTemplate markup\n            if (this.options.arrowEL !== undefined) {\n                this.arrowEL = this.options.arrowEL;\n            }\n            // If loadChildrenInternally is specified, use it instead of the default loadChildrenInternally flag\n            if (this.options.loadChildrenInternally !== undefined) {\n                this.loadChildrenInternally = this.options.loadChildrenInternally;\n            }\n            // If a getChildren LoadParams object is not passed in the options, set the getChildrenLoadParams to an empty object \n            this.getChildrenLoadParams = this.options.getChildrenLoadParams === undefined ? {} : this.options.getChildrenLoadParams;\n            //\n            // If an additionalNodeStateParams is passed into the tree\n            if (this.options.additionalNodeStateParams !== undefined) {\n                this.additionalNodeStateParams = this.options.additionalNodeStateParams;\n                this.additionalNodeStateValue = this.options.additionalNodeStateValue;\n                this.additionalNodeStateSelector = this.options.additionalNodeStateSelector;\n            }\n            // ADD FOR NEW DEPTH BASED CALLS \n            if (this.options.specifyDepth !== undefined) {\n                this.specifyDepth = this.options.specifyDepth;\n            }\n            \n            // ROUGH\n            if (this.options.additionalModelListenersHandlers !== undefined) {\n                this.additionalModelListenersHandlers = this.options.additionalModelListenersHandlers;\n            }\n            //\n            if (this.options.additionalRenderFunction !== undefined){\n                this.additionalRenderFunction = this.options.additionalRenderFunction;\n            }\n        },\n          \n        events:{},\n        \n        initialiseEvents:function()\n        {\n            var that = this;\n            if(this.openCloseNodeItem)\n            {\n                if(this.model.get(\"childrenCount\") > 0)\n                {\n                    $(this.el).find(' > ' + this.nodeItemEL).click(function() { \n                            return that.onNodeItemSelected(); \n                        });\n                }\n            }else if(this.openCloseArrowOnly){\n                if(this.model.get(\"childrenCount\") > 0)\n                {\n                    $(this.el).find(' > ' + this.nodeItemEL).find(' > ' + this.arrowEL).click(function() { \n                            return that.onNodeItemSelected(); \n                        });\n                }\n            }\n        },\n\n        onNodeItemSelected:function(event)\n        {\n            if(this.model.get(\"childrenCount\") > 0 && this.model.get(\"children\").length === 0)\n            {\n                this.toggleOpenState();\n                this.setLoadingState();\n                this.loadChildren();\n            }\n            else\n            {\n                this.toggleOpenState();\n            }\n        },\n        \n        loadChildren:function()\n        {\n            if(this.loadChildrenInternally){\n                //roleId:dataStore.get('userSession').get('user').get('currentRoleId'), qualId:dataStore.get('currentQualId')\n                this.isModelLoading = true;\n                this.getChildrenLoadParams.itemId = this.model.get('itemId');\n                if(this.specifyDepth)\n                {\n                    this.getChildrenLoadParams.depth = this.model.get('depth') + 1;\n                }\n                this.model.loadParams = this.getChildrenLoadParams;\n                var loadOptions = dataStore.getBasicLoadOptions();\n                this.model.load(loadOptions);\n            }else{\n                this.trigger('tree:loadChildren', this.model);\n            }\n        },\n        setLoadingState:function()\n        {\n            var childrenEL = $(this.el).find('> ' + this.nodeChildrenEL),\n                    that = this,\n                   h =  Number(this.model.get('childrenCount'))* this.nodeItemHeight,\n                   depth = (this.model.get('depth') + 1) * this.depthIndent,\n                   loader = \"<li class='loading' style='margin-left:\" + depth + \"px;'></li>\";\n            childrenEL.html(loader);\n            this.loaderElId = childrenEL;\n            childrenEL.find('.loading').animate({\n                'height': h\n            }, this.collapseSpeed, function() {\n                // Animation complete.\n                if(that.isModelLoading)\n                    that.showLoader();\n            });\n            \n        },\n        toggleOpenState: function() \n        {\n            if (this.model.get(\"isOpen\") === true)\n            {\n                //this.model.set('viewReference', null);\n                this.closeNode();\n                this.model.set(\"isOpen\", false);\n            }\n            else\n            {\n                //this.model.set('viewReference', this);\n                this.openNode();\n                this.model.set(\"isOpen\", true);\n            }\n        },\n\n        closeNode:function()\n        {\n            if(this.showArrowEL)\n            {\n                //var arrow = $(this.el).find('> ' + this.arrowEL + \" > div\");\n                var arrow = $(this.el).find(' > ' + this.nodeItemEL).find(this.arrowEL + \" > div\");\n                arrow.removeClass('open');\n                this.model.get('childrenCount') > 0?arrow.addClass('closed'):arrow.addClass('closedNoChildren');\n                \n            }\n            $(this.el).find('> ' + this.nodeChildrenEL).slideUp(this.collapseSpeed).promise().always(this.onSlideAnimationPromise);\n        },\n        \n        openNode:function()\n        {\n            if(this.showArrowEL)\n            {\n                //var arrow = $(this.el).find('> ' + this.arrowEL + \" > div\");\n                var arrow = $(this.el).find(' > ' + this.nodeItemEL).find(this.arrowEL + \" > div\");\n                arrow.removeClass('closed');\n                arrow.addClass('open');\n            }\n            $(this.el).find('> ' + this.nodeChildrenEL).slideDown(this.collapseSpeed).promise().always(this.onSlideAnimationPromise);\n        },\n        \n        onSlideAnimationPromise:function()\n        {\n            // to be overriden\n        },\n        render: function() \n        {\n            // Attach the HTML created in the views template to the views el\n            $(this.el).html(this.template(this.getTemplateData()));\n            this.initialiseEvents();\n            this.addChildrenInstances();\n            // adjust the view elements according to the model's open status\n            if(this.model.get(\"isOpen\") === true)\n            {\n                if(this.model.get('childrenCount') > 0 && this.model.get('children').length === 0)\n                {\n                    this.closeNode();\n                }\n                else\n                {\n                    this.openNodePostRender();\n                }\n            }\n            if(this.additionalRenderFunction !== null){\n                this.additionalRenderFunction(this);\n            }\n        },\n        addChildrenInstances:function()\n        {\n            if(this.model.get(\"children\") === null || this.model.get(\"children\").length <= 0)\n                return false;\n            // Build child views, insert and render each\n            var tree = $(this.el).find('> ' + this.nodeChildrenEL);\n            var loadingEL = tree.find(\".loading\");\n            var childViewOptions = this.options;\n            childViewOptions.el = null;\n            var that = this;\n            //this.model.get(\"children\")\n            _.each(this.model.get(\"children\").models, function(childModel, i) {\n                childViewOptions.model = childModel;\n                var childView = new this.treeView(childViewOptions);\n                childView.render();\n                //tree.prepend(childView.$el);\n                tree.append(childView.$el);\n                if(loadingEL){\n                    loadingEL.css(\"height\", loadingEL.outerHeight() - this.nodeItemHeight);\n                }\n                that.childTreeViews.push(childView);\n            }, this);\n        },\n        onChildrenLoaded:function()\n        {\n            this.isModelLoading = false;\n            this.removeSpinner();\n            // reset any show loader states\n            var childrenEL = $(this.el).find('> ' + this.nodeChildrenEL);\n            //childrenEL.removeClass(\"loading\");\n            this.addChildrenInstances();\n            //childrenEL.css('min-height', \"\");\n            childrenEL.find('.loading').remove();\n        },\n\n        onItemDelete:function()\n        {\n            this.model.onDestroy();\n            this.destroy();\n        },\n        /*\n         * Can be overriden to add additional params to the template data that\n         * currently don't reside within the model\n         */\n        getTemplateData:function()\n        {\n            //this.model.set('isOpen', this.model.get('children').models.length > 0);\n            //this.model.set('hasChildren', this.model.get('children').models.length > 0);\n            var treeData = this.model.toJSON();\n            treeData.depthIndent = this.depthIndent;\n            treeData.nodeItemTemplate = _.template(this.getNodeItemTemplate())(treeData);\n            \n            return treeData;\n        },\n        getNodeItemTemplate:function()\n        {\n            return this.nodeItemTemplate;\n        },\n        openNodePostRender:function()\n        {\n            // can be overriden if an external view need initialising prior to opening\n            this.openNode();\n        },\n                \n        showLoader:function()\n        {\n            BaseLoadingView.prototype.showLoader.apply(this);\n        },\n        removeSpinner:function()\n        {\n            BaseLoadingView.prototype.removeSpinner.apply(this);\n        },\n        positionSpinner: function()\n        {\n            if (this.spinnerEL && this.showSpinner)\n            {\n                this.spinnerEL.css(\"position\", \"relative\");\n                var x = Math.floor($(this.loaderElId).outerWidth() / 2);\n                this.spinnerEL.css(\"left\", x + \"px\");\n                var y = Math.floor($(this.loaderElId).outerHeight() / 2);\n                this.spinnerEL.css(\"top\", -y + \"px\");\n            }\n        },\n        \n        onSelectedStateChange:function()\n        {\n            if(this.model.get('isSelected')){\n                $(this.el).find('> .tree-node-item').addClass('selected');\n            }else{\n                $(this.el).find('> .tree-node-item').removeClass('selected');\n            }\n        },\n        onAdditionalNodeStateParamsChange:function()\n        {\n            if(this.model.get(this.additionalNodeStateParams) === this.additionalNodeStateValue){\n                $(this.el).find('> .tree-node-item').addClass(this.additionalNodeStateSelector);\n            }else{\n                $(this.el).find('> .tree-node-item').removeClass(this.additionalNodeStateSelector);\n            }\n        },      \n        destroy: function()\n        {\n            while(this.childTreeViews.length > 0)\n            {\n                var childTreeView = this.childTreeViews.pop();\n                if(childTreeView !== null)\n                {\n                    childTreeView.destroy();\n                    childTreeView = null;\n                }\n            }\n            if(this.model !== null)\n            {\n                this.model.unbind('change:children', this.onChildrenLoaded, this);\n                this.stopListening(this.model, 'change:isSelected', this.onSelectedStateChange, this);\n                this.stopListening(this.model, 'deleteSuccess', this.onItemDelete, this);\n                this.model = null;\n            }\n            this.remove();\n            BaseLoadingView.prototype.destroy.apply(this);\n        }       \n    });\n    \n    return treeView;\n});\n\n","\ndefine('text!js/views/sectionsStack/examples/sections/PrimarySection.html',[],function () { return '\\n<div class=\"primary-section-example\">\\n    <h4>Example of primary content as a tree</h4>\\n    <div class=\"tree-container\"></div>\\n</div>\\n\\n';});\n\n","define('js/views/sectionsStack/examples/sections/PrimarySectionView',[\n    'dataStore',\n    'js/views/sectionsStack/section/BaseSectionView',\n    'js/views/tree/TreeView',\n    'text!js/views/sectionsStack/examples/sections/PrimarySection.html'\n  \n], function(dataStore, BaseSectionView, TreeView, PrimarySectionTemplate) {\n\n    var PrimarySectionView = BaseSectionView.extend({\n        name:\"PrimarySection\",\n        title:\"Section title\",\n        nullModelMessage:\"There is currently no item selected\",\n        treeView:null,\n        //\n        initialize: function(options) {\n            BaseSectionView.prototype.initialize.apply(this, [options]);\n        },\n        \n        events:\n        {\n            'click .tree-node-item .active-select-area':'onItemSelected'\n        },\n    \n        requestData:function()\n        {\n            var queue = [];\n            this.model.loadParams = {\n                loadType:\"getTreeRoot\",\n                itemId:0\n            };\n            queue.push(this.model);\n            BaseSectionView.prototype.requestData.apply(this, [queue]);\n        },\n        renderSectionsContent:function()\n        {\n            var contentTemplate = _.template(PrimarySectionTemplate);\n            this.contentEL.html(contentTemplate({}));\n            this.initialiseTreeView();\n        },\n        initialiseTreeView:function()\n        {    \n            this.treeView = new TreeView({\n                el:$(this.el).find('.tree-container'),\n                model:this.model,\n                openCloseNodeItem:false,\n                openCloseArrowOnly:true,\n                //nodeItemTemplate:ViewSpecificTreeNodeItem,\n                getChildrenLoadParams:{\n                    loadType:\"getChildren\"\n                },\n                additionalModelListenersHandlers:[\n                    {listener:'change:genericCount', handler:this.onTreeViewGenericCountChange}\n                ]\n            });\n            this.treeView.render();\n        },\n        onItemSelected:function(event){\n            var item = $(event.currentTarget).closest('.tree-node-item');\n            this.trigger('sectionStackView:itemSelect', item.attr('data-id'), this.index);\n        },\n        onTreeViewGenericCountChange:function(model, value){\n            var selectorQuery = '[data-id=\"' + model.get('itemId') + '\"]';\n            $(selectorQuery).find('.cel-generic-count').html(model.get('genericCount'));\n        },\n        setAdditionalViewItemHeights: function(contentHeight){\n            this.contentEL.css('min-height', contentHeight)\n        }\n\n    });\n    return PrimarySectionView;\n});\n\n","\ndefine('text!js/views/sectionsStack/examples/sections/SecondarySection.html',[],function () { return '\\n<div class=\"secondary-section-example\">\\n    <h4>Item <%= displayName %></h4>\\n    <form>\\n        <label for=\"generic-count-increment\">Increment the item\\'s count</label>\\n        <input name=\"generic-count-increment\" type=\"number\" step=\"1\" value=\"<%= genericCount %>\" <% if(!canEdit){ %> disabled readonly<% } %>>\\n    </form>\\n</div>\\n\\n';});\n\n","define('js/views/sectionsStack/examples/sections/SecondarySectionView',[\n    'dataStore',\n    'js/views/sectionsStack/section/BaseSectionView',\n    'text!js/views/sectionsStack/examples/sections/SecondarySection.html',\n  \n], function(dataStore, BaseSectionView, SecondarySectionTemplate) {\n\n    var SecondarySectionView = BaseSectionView.extend({\n        name:\"Secondary Section\",\n        title:\"Section title\",\n        nullModelMessage:\"There is currently no item selected\",\n        //\n        initialize: function(options) {\n            BaseSectionView.prototype.initialize.apply(this, [options]);\n        },\n\n        events:\n        {\n            \"change form\":\"onFormChange\",\n        },\n        \n        renderSectionsContent:function()\n        {\n            var contentTemplate = _.template(SecondarySectionTemplate);\n            if(this.model !== null){\n                this.contentEL.html(contentTemplate(this.model.toJSON()));\n            }else{\n                this.contentEL.html(this.getNoDataMessageHTML(this.nullModelMessage));\n            }\n        },\n        onFormChange:function(event){\n            this.model.set('genericCount', Number($(this.el).find('form > input').val()));\n        }\n\n    });\n    return SecondarySectionView;\n});\n\n","define('js/views/sectionsStack/examples/DualFocusStackPageView',[\n    'dataStore',\n    'js/views/sectionsStack/BaseSectionsStackPageView',\n    'js/views/sectionsStack/examples/sections/PrimarySectionView',\n    'js/views/sectionsStack/examples/sections/SecondarySectionView',\n    \n], function(dataStore, BaseSectionsStackPageView, PrimarySectionView, SecondarySectionView) {\n\n    var DualFocusSectionsStackView = BaseSectionsStackPageView.extend({\n        name:\"Dual-focus stack page view example\",\n        articleId:\"basePageSectionsStackContent\",\n        gridClass:\"page-section-stack-grid\",\n        gridType:\"dual-focus\", // dual-focus || slider\n        currentDefaultFocusedIndex:0,\n        currentFocusedIndex:0,\n        //\n        initialize: function(options)\n        {\n            BaseSectionsStackPageView.prototype.initialize.apply(this, [options]);\n        },\n \n        initialiseModel:function()\n        {\n            // to be overrideen\n            //this.model = dataStore...\n        },\n        initialiseSectionsStack:function()\n        {\n            this.sectionsStack.push({\n                view:new PrimarySectionView({\n                    isOpen:true,\n                    restrictHeightToScreen:false,\n                    showHeader:false,\n                    model:dataStore.get('tree')\n                }),\n                class:\"primary-dual\",\n                ordinal: 1\n            });\n            this.sectionsStack.push({\n                view:new SecondarySectionView({\n                    isOpen:false,\n                    restrictHeightToScreen:true\n                }),\n                class:\"secondary-dual\",\n                ordinal: 2\n            });\n        },\n\n        events:{\n           //\n        },\n        \n        addSectionsStackViewsListeners:function(sectionView, index)\n        {\n            switch(index){\n                case 0:\n                    this.listenTo(sectionView, 'sectionStackView:itemSelect', this.onSectionItemSelected, this);\n                    break;\n                case 1:\n                    this.listenTo(sectionView, 'sectionStackView:openClose', this.onSectionViewOpenClose, this);\n                    break;\n            }\n        },\n        \n        removeSectionsStackViewsListeners:function(sectionView, index)\n        {\n            switch(index){\n                case 0:\n                    this.stopListening(sectionView, 'sectionStackView:itemSelect', this.onSectionItemSelected);\n                    break;\n                case 1:\n                    this.stopListening(sectionView, 'sectionStackView:openClose', this.onSectionViewOpenClose);\n                    break;\n            }\n        },\n\n        onSectionItemSelected: function(item, index)\n        {\n            if(index === 0){\n                var itemModel = dataStore.get('tree').getTreeItem(Number(item));\n                this.sectionsStack[1].view.updateModel(itemModel);\n            }\n        }\n\n    });\n    return DualFocusSectionsStackView;\n});\n\n","define('js/views/sectionsStack/examples/SliderStackPageView',[\n    'dataStore',\n    'js/views/sectionsStack/BaseSectionsStackPageView',\n    'js/views/sectionsStack/examples/sections/PrimarySectionView',\n    'js/views/sectionsStack/examples/sections/SecondarySectionView',\n    \n], function(dataStore, BaseSectionsStackPageView, PrimarySectionView, SecondarySectionView) {\n\n    var SliderSectionsStackView = BaseSectionsStackPageView.extend({\n        name:\"Slider stack page view example\",\n        gridType:\"slider\", // dual-focus || slider\n        currentFocusedIndex:0,\n        //\n        initialize: function(options)\n        {\n            BaseSectionsStackPageView.prototype.initialize.apply(this, [options]);\n        },\n \n        initialiseSectionsStack:function()\n        {\n            this.sectionsStack.push({\n                view:new PrimarySectionView({\n                    isOpen:true,\n                    restrictHeightToScreen:false,\n                    showHeader:false\n                }),\n                class:\"secondary-slider\",\n                ordinal: 1\n            });\n            this.sectionsStack.push({\n                view:new SecondarySectionView({\n                    isOpen:false,\n                    restrictHeightToScreen:true\n                }),\n                class:\"secondary-slider\",\n                ordinal: 2\n            });\n        },\n\n        events:{\n           //\n        },\n        \n        addSectionsStackViewsListeners:function(sectionView, index)\n        {\n            switch(index){\n                case 0:\n                    this.listenTo(sectionView, 'sectionStackView:itemSelect', this.onSectionItemSelected, this);\n                    break;\n                case 1:\n                    this.listenTo(sectionView, 'sectionStackView:openClose', this.onSectionViewOpenClose, this);\n                    break;\n            }\n        },\n        \n        removeSectionsStackViewsListeners:function(sectionView, index)\n        {\n            switch(index){\n                case 0:\n                    this.stopListening(sectionView, 'sectionStackView:itemSelect', this.onSectionItemSelected);\n                    break;\n                case 1:\n                    this.stopListening(sectionView, 'sectionStackView:openClose', this.onSectionViewOpenClose);\n                    break;\n            }\n        },\n\n        onSectionItemSelected: function(item, index)\n        {\n            if(index === 0){\n                var temporaryModel = new Backbone.Model({ displayName: \"Item \" + item, id:item});\n                this.sectionsStack[1].view.updateModel(temporaryModel);\n            }\n        }\n\n    });\n    return SliderSectionsStackView;\n});\n\n","\ndefine('text!js/views/courses/Courses.html',[],function () { return '<article class=\"page-container\">\\n   <header>\\n        <div class=\"article-header-grid\">\\n            <div class=\"header-text\">\\n                <h2>Courses yeah</h2>           \\n            </div>\\n            <div class=\"admin-button-wrapper\">\\n                <a href=\"index.html#defaultpage\" class=\"action-button\" tabindex=\"0\" role=\"button\">Back to default page</a>\\n            </div>\\n        </div>\\n    </header>\\n\\n    \\n    <section class=\"products\">\\n        <div class=\"product-card\">\\n            <div class=\"product-image\">\\n               <img src=\"../imgs/course-01.jpg\">\\n            </div>\\n            <div class=\"product-info\">\\n              <h5>Lorum ipsum</h5>\\n              <h6>solar dolar</h6>\\n            </div>\\n        </div>\\n        \\n        <div class=\"product-card\">\\n            <div class=\"product-image\">\\n              <img src=\"../imgs/course-01.jpg\">\\n            </div>\\n            <div class=\"product-info\">\\n              <h5>Lorum ipsum</h5>\\n              <h6>solar dolar</h6>\\n            </div>\\n        </div>\\n        \\n        <div class=\"product-card\">\\n            <div class=\"product-image\">\\n               <img src=\"../imgs/course-01.jpg\">\\n            </div>\\n            <div class=\"product-info\">\\n              <h5>Lorum ipsum</h5>\\n              <h6>solar dolar</h6>\\n            </div>\\n        </div>\\n        \\n    </section>\\n    \\n</article>';});\n\n","define('js/views/courses/CoursesPageView',[\n    'dataStore',\n    'js/views/PageView',\n    'text!js/views/courses/Courses.html'\n\n], function(\n        dataStore, \n        PageView,\n        CoursesTemplate\n    ){\n\n    var CoursesView = PageView.extend({\n        name:\"Courses\",\n        initialize: function(options)\n        {\n            PageView.prototype.initialize.apply(this, [options]);\n            this.template = _.template(CoursesTemplate);\n        },\n        events:\n        {\n\n        },\n        renderPageContent: function()\n        {\n            $(this.el).html(this.template());\n        }\n        \n    });\n\n    return CoursesView;\n});\n","define('example/exampleRouter',[\n\n    'js/router',\n    'dataStore',\n    'js/views/sectionsStack/examples/DualFocusStackPageView',\n    'js/views/sectionsStack/examples/SliderStackPageView',\n    'js/views/courses/CoursesPageView'\n    \n], function(\n        Router, \n        dataStore, \n        DualFocusStackPageView, \n        SliderStackPageView,\n        CoursesPageView\n    ) {\n\n    var exampleRouter = Router.extend({\n        routes: {\n            // Define URL routes\n            'myCourses':'showPage',\n            'courses':'showPage',\n            'dualFocusStack':'showSectionsStackPage',\n            'sliderStack':'showSectionsStackPage',\n            'error':'showError',\n            // Default\n            '*actions': 'defaultView'\n        },\n        switchableViews:[\n            'DualFocusStackPageView',\n            'SliderStackPageView',\n            'CoursesPageView'\n        ],\n        initialize: function() {\n            Router.prototype.initialize.apply(this);\n        },\n        \n        showPage:function(){\n            var path = window.location.href,\n                selectedPageIdentifier = path.substr(path.lastIndexOf('#') + 1),\n                newView = \"\";\n            switch(selectedPageIdentifier)\n            {\n                case 'myCourses':\n                    newView = CoursesPageView\n                    break;\n                case 'courses':\n                    newView = CoursesPageView\n                    break;\n            }\n            this.switchView(newView, null, true);\n        },     \n        showSectionsStackPage:function(){\n            var path = window.location.href,\n                selectedPageIdentifier = path.substr(path.lastIndexOf('#') + 1),\n                newView = \"\";\n            switch(selectedPageIdentifier)\n            {\n                case 'dualFocusStack':\n                    newView = DualFocusStackPageView\n                    break;\n                case 'sliderStack':\n                    newView = SliderStackPageView\n                    break;\n            }\n            this.switchView(newView, null, true);\n        },     \n        showError:function(){\n            //console.log(\"Error\");\n            //this.switchView(Error);\n        },\n        switchView: function(view, viewType, showHeader)\n        {\n            /*if(!showHeader){\n                this.headerView.hide();\n            }else{\n                this.headerView.show();\n            }*/\n            Router.prototype.switchView.apply(this,[view,viewType]);\n        },   \n        defaultView: function() {\n            window.location.hash = \"courses\";\n        }\n        \n    });\n    \n    var initialize = function() {\n        var router = new exampleRouter;\n        Backbone.history.start();\n    };\n    \n    return {\n        initialize: initialize\n    };\n});\n\n","define('example/exampleApp',[\n    'jquery',\n    'underscore',\n    'backbone',\n    'example/exampleRouter'\n    \n], function($, _, Backbone, Router) {\n    \n    var initialize = function() {\n        // Pass in our Router module and call it's initialize function\n        Router.initialize();\n    }\n\n    return {\n        initialize: initialize\n    };\n});\n\n","// This bootstrap file will be responsible for configuring Require.js and loading initially important dependencies.\n\n// Require.js allows us to configure shortcut alias\n// create shortcut alias' to jQuery, Underscore and Backbone\n// these are non - AMD\n\nrequire.config({\n    baseUrl:\"../\",\n    \n    paths: {\n        dataStore:'example/js/data/ExampleDataStore',\n        jquery: 'externalLibraries/jquery/jquery-1.12.3.min',\n        underscore: 'externalLibraries/underscore/underscore-min',\n        backbone: 'externalLibraries/backbone/backbone-min',\n        text: 'externalLibraries/require/text',\n        spinner: 'externalLibraries/spin/spin.min'\n    }\n});\n\nrequire([\n    // Load our app module and pass it to our definition function (does not need '.js' as is added automatically)\n    'example/exampleApp'\n\n            // Some plugins have to be loaded in order due to their non AMD compliance\n            // Because these scripts are not \"modules\" they do not pass any values to the definition function below\n], function(App) {\n    // The \"app\" dependency is passed in as \"App\"\n    // Again, the other dependencies passed in are not \"AMD\" therefore don't pass a parameter to this function\n    App.initialize();\n});\n\ndefine(\"example/exampleMain\", function(){});\n\n"]}